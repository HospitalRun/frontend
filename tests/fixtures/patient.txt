{"version":"1.2.9","db_type":"http","start_time":"2018-11-12T22:05:01.352Z","db_info":{"db_name":"main","doc_count":88,"doc_del_count":0,"update_seq":165,"purge_seq":0,"compact_running":false,"disk_size":180331,"data_size":66693,"instance_start_time":"1542011666289486","disk_format_version":6,"committed_update_seq":165,"host":"http://localhost:5984/main/","auto_compaction":false,"adapter":"http"}}
{"docs":[{"_id":"_design/auth","_rev":"1-e8ad71bef1d2a704752371a35266147a","validate_doc_update":"function(newDoc, oldDoc, userCtx) { if(userCtx.roles.indexOf('_admin')!== -1 || userCtx.roles.indexOf('admin')!== -1){ if (newDoc._id.indexOf('_design') === 0 || newDoc._id === 'fhir_audit') { return; }}if (newDoc._id.indexOf('_') !== -1) {var idParts=newDoc._id.split('_');if (idParts.length >= 3) { var allowedTypes=['allergy','appointment','attachment','billingLineItem','customForm','diagnosis','imaging','incCategory','incidentNote','incident','invLocation','invPurchase','invRequest','inventory','invoice','lab','lineItemDetail','lookup','medication','operationReport','operativePlan','option','overridePrice','patientNote','patient','payment','photo','priceProfile','pricing','procCharge','procedure','questionnaire','questionnaireResponse','report','sequence','userRole','visit','vital'];if (allowedTypes.indexOf(idParts[0]) !== -1) {if(newDoc._deleted || newDoc.data) {return;}}}}throw({forbidden: 'Invalid data'});}"},{"_id":"_design/invoice_by_visit","_rev":"1-d6ec852d4cea051fd7b5c8d98b9c0cde","version":1,"views":{"invoice_by_visit":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'invoice') {\n        emit(doc.data.visit);\n      }\n    }\n  }"}}},{"_id":"appointment_2_C47BE127-E509-6322-BB33-2E6ABE03D0F0","_rev":"2-44597ea8b1cdd20dc8d2c0ad9b2edbb6","data":{"allDay":true,"provider":"Dr Nick","location":"Hospital","appointmentType":"Followup","startDate":"2015-12-30T06:00:00.000Z","endDate":"2015-12-30T06:00:00.000Z","notes":null,"status":"Scheduled","lastModified":"2015-12-29T04:14:36.585Z","modifiedBy":"Admin User","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","modifiedFields":{"appointmentType":"2015-12-29T04:14:21.124Z","allDay":"2015-12-29T04:14:21.124Z","startDate":"2015-12-29T04:14:36.585Z","endDate":"2015-12-29T04:14:36.585Z","location":"2015-12-29T04:14:21.124Z","provider":"2015-12-29T04:14:21.124Z"}},"_revisions":{"start":2,"ids":["44597ea8b1cdd20dc8d2c0ad9b2edbb6","953a11c67a694ef2daa469bd8c0f40ec"]}},{"_id":"fhir_audit","_rev":"1-967a00dff5e02add41819138abb3284d"},{"_id":"imaging_2_12DEDA58-4670-7A74-BA8B-9CC5E5CA82E7","_rev":"1-3237f1a60f7ef9869553893a25e91e87","data":{"imagingDate":null,"notes":null,"radiologist":"","requestedBy":"Admin User","requestedDate":"2015-12-29T04:15:41.380Z","result":null,"status":"Requested","lastModified":"2015-12-29T04:15:41.382Z","modifiedBy":"Admin User","imagingType":"B93625F1-3C41-2D3E-94B9-3A8BAF87EBE8","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","charges":[],"modifiedFields":{"radiologist":"2015-12-29T04:15:41.382Z","status":"2015-12-29T04:15:41.382Z","requestedBy":"2015-12-29T04:15:41.382Z","requestedDate":"2015-12-29T04:15:41.382Z"}}},{"_id":"imaging_2_51AFF85A-69C0-97C1-B22C-716A1BA7B80B","_rev":"1-3e1a5d957291144f7ba1e9c0c7c2cb12","data":{"imagingDate":"2015-12-29T04:07:03.693Z","notes":null,"radiologist":"Dr Xray","requestedBy":"Admin User","requestedDate":"2015-12-29T04:07:03.694Z","result":null,"status":"Completed","lastModified":"2015-12-29T04:07:03.744Z","modifiedBy":"Admin User","imagingType":"B93625F1-3C41-2D3E-94B9-3A8BAF87EBE8","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","charges":[],"modifiedFields":{"radiologist":"2015-12-29T04:07:03.744Z","status":"2015-12-29T04:07:03.744Z","imagingDate":"2015-12-29T04:07:03.744Z","requestedBy":"2015-12-29T04:07:03.744Z","requestedDate":"2015-12-29T04:07:03.744Z"}}},{"_id":"invLocation_2_0323721B-EDD0-6C91-BB34-52FBEACBA7DE","_rev":"3-f43e02982eff2b35453b4dcf537fec3f","data":{"quantity":0,"location":null,"aisleLocation":null,"lastModified":"2015-12-29T03:13:47.396Z","modifiedBy":"Admin User","modifiedFields":{"quantity":"2015-12-29T03:13:47.396Z"}},"_revisions":{"start":3,"ids":["f43e02982eff2b35453b4dcf537fec3f","e8c15241efd7bb6c8bf891c28558d83b","c2e397e9ebd1266da5de2e1a3033fcc6"]}},{"_id":"invLocation_2_24BB235E-B271-AF61-9A3D-9ACD77CE25AF","_rev":"3-b8964e3b548efa84d5602224e88a1126","data":{"quantity":0,"location":null,"aisleLocation":null,"lastModified":"2015-12-29T03:08:57.289Z","modifiedBy":"Admin User","modifiedFields":{"quantity":"2015-12-29T03:08:57.289Z"}},"_revisions":{"start":3,"ids":["b8964e3b548efa84d5602224e88a1126","dff7e3f8434279a562a3d4ffc0106c6e","2d8c410350e7ecfffd6e496f6f05ca30"]}},{"_id":"invLocation_2_32BCC947-E272-1564-90E1-C6E2ECE14881","_rev":"2-74b9d0e13f10a766c8e02a411b21bc9e","data":{"quantity":12,"location":"Warehouse","aisleLocation":"A1","lastModified":"2015-12-29T03:47:25.988Z","modifiedBy":"Admin User","modifiedFields":{"aisleLocation":"2015-12-29T03:47:25.919Z","location":"2015-12-29T03:47:25.919Z","quantity":"2015-12-29T03:47:25.988Z"}},"_revisions":{"start":2,"ids":["74b9d0e13f10a766c8e02a411b21bc9e","8adc0c9f4543aebccdfce691b8c1199d"]}},{"_id":"invLocation_2_7FD0F94A-6D4E-6365-A4EF-F7B4F8D35C22","_rev":"3-85e5ea976718b1331eade5d9f567654b","data":{"quantity":0,"location":"Warehouse","aisleLocation":null,"lastModified":"2015-12-29T03:46:41.557Z","modifiedBy":"Admin User","modifiedFields":{"location":"2015-12-29T03:13:47.288Z","quantity":"2015-12-29T03:46:41.557Z"}},"_revisions":{"start":3,"ids":["85e5ea976718b1331eade5d9f567654b","eb663365f6944558113da9820789b8fd","ac3af5754777c65209c3d9c7cc03dfb2"]}},{"_id":"invLocation_2_DBCF3E06-B812-B6C7-930E-74F9372D384A","_rev":"3-a15f0e36baae0abfa52ae68b42e3ad0e","data":{"quantity":999998,"location":"Pharmacy","aisleLocation":null,"lastModified":"2015-12-29T04:01:16.092Z","modifiedBy":"Admin User","modifiedFields":{"location":"2015-12-29T03:08:57.191Z","quantity":"2015-12-29T04:01:16.092Z"}},"_revisions":{"start":3,"ids":["a15f0e36baae0abfa52ae68b42e3ad0e","d365a641356ccd999cf5f91ec842f5a9","e8dfec40fbf6418583392d73b24a9b32"]}},{"_id":"invPurchase_2_05760051-8BD1-ACC0-8013-0C59A545FB8D","_rev":"2-d7477df9559ec794be0e3084f09c310b","data":{"purchaseCost":12,"lotNumber":"","dateReceived":"2015-11-01T05:00:00.000Z","originalQuantity":25,"currentQuantity":0,"expirationDate":null,"expired":false,"location":null,"aisleLocation":null,"giftInKind":false,"inventoryItem":"iiqtim0c_ex","vendor":"ACME INC","vendorItemNo":"","distributionUnit":null,"invoiceNo":null,"lastModified":"2015-12-29T03:46:41.558Z","modifiedBy":"Admin User","modifiedFields":{"dateReceived":"2015-12-29T03:12:56.853Z","purchaseCost":"2015-12-29T03:12:56.853Z","lotNumber":"2015-12-29T03:12:56.853Z","vendor":"2015-12-29T03:12:56.853Z","vendorItemNo":"2015-12-29T03:12:56.853Z","originalQuantity":"2015-12-29T03:12:56.853Z","currentQuantity":"2015-12-29T03:46:41.558Z","inventoryItem":"2015-12-29T03:12:56.853Z"}},"_revisions":{"start":2,"ids":["d7477df9559ec794be0e3084f09c310b","2b41a3edbfe25818058eca69712b2033"]}},{"_id":"invPurchase_2_155B2B94-6C47-E6B5-BD1E-11F375CB2C29","_rev":"1-8308be24f6677a3a6aefc7cdde9b1c13","data":{"purchaseCost":6,"lotNumber":null,"dateReceived":"2015-12-03T06:00:00.000Z","originalQuantity":12,"currentQuantity":12,"expirationDate":null,"expired":false,"location":"Warehouse","aisleLocation":"A1","giftInKind":false,"inventoryItem":"iiqtim0c_ex","vendor":"ACME INC","vendorItemNo":"","distributionUnit":"pcs","invoiceNo":"","lastModified":"2015-12-29T03:47:25.866Z","modifiedBy":"Admin User","modifiedFields":{"dateReceived":"2015-12-29T03:47:25.866Z","distributionUnit":"2015-12-29T03:47:25.866Z","inventoryItem":"2015-12-29T03:47:25.866Z","invoiceNo":"2015-12-29T03:47:25.866Z","originalQuantity":"2015-12-29T03:47:25.866Z","quantityGroups":"2015-12-29T03:47:25.866Z","purchaseCost":"2015-12-29T03:47:25.866Z","vendor":"2015-12-29T03:47:25.866Z","vendorItemNo":"2015-12-29T03:47:25.866Z","location":"2015-12-29T03:47:25.866Z","aisleLocation":"2015-12-29T03:47:25.866Z","currentQuantity":"2015-12-29T03:47:25.866Z"},"quantityGroups":[{"index":0,"unit":"pcs","firstQuantity":true,"quantity":"12"}]}},{"_id":"invPurchase_2_E3B2184F-4ECA-3B76-92C8-437846C2E3DC","_rev":"2-846e30db369e739e0603938b12776d45","data":{"purchaseCost":12345,"lotNumber":null,"dateReceived":"2015-12-01T06:00:00.000Z","originalQuantity":1000000,"currentQuantity":999998,"expirationDate":null,"expired":false,"location":null,"aisleLocation":null,"giftInKind":false,"inventoryItem":"iiqtc6w3_31","vendor":"ACME INC","vendorItemNo":null,"distributionUnit":null,"invoiceNo":null,"lastModified":"2015-12-29T04:01:16.093Z","modifiedBy":"Admin User","modifiedFields":{"dateReceived":"2015-12-29T03:08:23.921Z","purchaseCost":"2015-12-29T03:08:23.921Z","vendor":"2015-12-29T03:08:23.921Z","originalQuantity":"2015-12-29T03:08:23.921Z","currentQuantity":"2015-12-29T04:01:16.093Z","inventoryItem":"2015-12-29T03:08:23.921Z"}},"_revisions":{"start":2,"ids":["846e30db369e739e0603938b12776d45","03ddad7882d9ed7041637de509902109"]}},{"_id":"invRequest_2_2A5251B5-1919-CB55-8757-A53DC057A77E","_rev":"1-222c0c115dc924e7d90cbde2b6023ebd","data":{"adjustPurchases":false,"completedBy":"Admin User","costPerUnit":null,"dateCompleted":"2015-12-01T06:00:00.000Z","dateRequested":null,"deliveryAisle":null,"deliveryLocation":"Pharmacy","expenseAccount":null,"markAsConsumed":true,"quantity":1000000,"quantityAtCompletion":null,"reason":null,"requestedBy":null,"status":"Completed","transactionType":"Transfer","lastModified":"2015-12-29T03:08:57.351Z","modifiedBy":"Admin User","inventoryItem":"iiqtc6w3_31","patient":null,"visit":null,"modifiedFields":{"adjustPurchases":"2015-12-29T03:08:57.351Z","dateCompleted":"2015-12-29T03:08:57.351Z","quantity":"2015-12-29T03:08:57.351Z","deliveryLocation":"2015-12-29T03:08:57.351Z","transactionType":"2015-12-29T03:08:57.351Z","locationsAffected":"2015-12-29T03:08:57.351Z","status":"2015-12-29T03:08:57.351Z","completedBy":"2015-12-29T03:08:57.351Z"},"locationsAffected":[{"name":"No Location","quantity":"1000000"}]}},{"_id":"invRequest_2_6F095231-0D58-E48D-B59F-8D4CB3965802","_rev":"1-f709e83b929a4ac8e25c39de04bb36d9","data":{"adjustPurchases":true,"completedBy":"Admin User","costPerUnit":0.01,"dateCompleted":"2015-12-29T04:01:16.080Z","dateRequested":null,"deliveryAisle":null,"deliveryLocation":null,"expenseAccount":null,"markAsConsumed":true,"quantity":2,"quantityAtCompletion":1000000,"reason":null,"requestedBy":null,"status":"Completed","transactionType":"Fulfillment","lastModified":"2015-12-29T04:01:16.251Z","modifiedBy":"Admin User","inventoryItem":"iiqtc6w3_31","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":null,"modifiedFields":{"dateCompleted":"2015-12-29T04:01:16.251Z","quantity":"2015-12-29T04:01:16.251Z","transactionType":"2015-12-29T04:01:16.251Z","markAsConsumed":"2015-12-29T04:01:16.251Z","adjustPurchases":"2015-12-29T04:01:16.251Z","costPerUnit":"2015-12-29T04:01:16.251Z","quantityAtCompletion":"2015-12-29T04:01:16.251Z","purchasesAffected":"2015-12-29T04:01:16.251Z","locationsAffected":"2015-12-29T04:01:16.251Z","status":"2015-12-29T04:01:16.251Z","completedBy":"2015-12-29T04:01:16.251Z"},"purchasesAffected":[{"id":"E3B2184F-4ECA-3B76-92C8-437846C2E3DC","quantity":2}],"locationsAffected":[{"name":"Pharmacy","quantity":2}]}},{"_id":"invRequest_2_91481B28-0A00-9C72-9094-E34D6B70442D","_rev":"1-c1b1d2ef55725427ea6f31fafd43a776","data":{"adjustPurchases":false,"completedBy":null,"costPerUnit":null,"dateCompleted":null,"dateRequested":"2015-12-29T03:47:47.911Z","deliveryAisle":null,"deliveryLocation":"Pharmacy","expenseAccount":"Pharmacy","markAsConsumed":true,"quantity":2,"quantityAtCompletion":null,"reason":null,"requestedBy":"Admin User","status":"Requested","transactionType":"Request","lastModified":"2015-12-29T03:47:47.912Z","modifiedBy":"Admin User","inventoryItem":"iiqtim0c_ex","patient":null,"visit":null,"modifiedFields":{"transactionType":"2015-12-29T03:47:47.912Z","quantity":"2015-12-29T03:47:47.912Z","deliveryLocation":"2015-12-29T03:47:47.912Z","expenseAccount":"2015-12-29T03:47:47.912Z","dateRequested":"2015-12-29T03:47:47.912Z","requestedBy":"2015-12-29T03:47:47.912Z","status":"2015-12-29T03:47:47.912Z"}}},{"_id":"invRequest_2_B419E42C-87A8-1AFC-BDEF-3145ED774BE7","_rev":"1-a61eb2eac18550ed06ae528db3de51f0","data":{"adjustPurchases":false,"completedBy":"Admin User","costPerUnit":null,"dateCompleted":"2015-12-01T06:00:00.000Z","dateRequested":null,"deliveryAisle":null,"deliveryLocation":"Warehouse","expenseAccount":null,"markAsConsumed":true,"quantity":25,"quantityAtCompletion":null,"reason":null,"requestedBy":null,"status":"Completed","transactionType":"Transfer","lastModified":"2015-12-29T03:13:47.447Z","modifiedBy":"Admin User","inventoryItem":"iiqtim0c_ex","patient":null,"visit":null,"modifiedFields":{"adjustPurchases":"2015-12-29T03:13:47.447Z","dateCompleted":"2015-12-29T03:13:47.447Z","quantity":"2015-12-29T03:13:47.447Z","deliveryLocation":"2015-12-29T03:13:47.447Z","transactionType":"2015-12-29T03:13:47.447Z","locationsAffected":"2015-12-29T03:13:47.447Z","status":"2015-12-29T03:13:47.447Z","completedBy":"2015-12-29T03:13:47.447Z"},"locationsAffected":[{"name":"No Location","quantity":"25"}]}},{"_id":"invRequest_2_CA5F4301-1600-1230-B276-0B3C98402C13","_rev":"1-9c9872e5caf5f80fe4cf434e014fcfe3","data":{"adjustPurchases":true,"completedBy":"Admin User","costPerUnit":0.48,"dateCompleted":"2015-12-28T06:00:00.000Z","dateRequested":"2015-12-29T03:46:41.543Z","deliveryAisle":null,"deliveryLocation":"Ward 1","expenseAccount":"Ward","markAsConsumed":true,"quantity":25,"quantityAtCompletion":25,"reason":null,"requestedBy":"Admin User","status":"Completed","transactionType":"Fulfillment","lastModified":"2015-12-29T03:46:41.732Z","modifiedBy":"Admin User","inventoryItem":"iiqtim0c_ex","patient":null,"visit":null,"modifiedFields":{"transactionType":"2015-12-29T03:46:41.732Z","quantity":"2015-12-29T03:46:41.732Z","dateCompleted":"2015-12-29T03:46:41.732Z","deliveryLocation":"2015-12-29T03:46:41.732Z","expenseAccount":"2015-12-29T03:46:41.732Z","dateRequested":"2015-12-29T03:46:41.732Z","requestedBy":"2015-12-29T03:46:41.732Z","adjustPurchases":"2015-12-29T03:46:41.732Z","costPerUnit":"2015-12-29T03:46:41.732Z","quantityAtCompletion":"2015-12-29T03:46:41.732Z","purchasesAffected":"2015-12-29T03:46:41.732Z","locationsAffected":"2015-12-29T03:46:41.732Z","status":"2015-12-29T03:46:41.732Z","completedBy":"2015-12-29T03:46:41.732Z"},"purchasesAffected":[{"id":"05760051-8BD1-ACC0-8013-0C59A545FB8D","quantity":25}],"locationsAffected":[{"name":"Warehouse","quantity":25}]}},{"_id":"inventory_2_iiqtc6w3_31","_rev":"3-0c0a71f273bf0633cafce271b0f35007","data":{"description":null,"friendlyId":"m00001","name":"Cefazolin 500mg vial (Hazolin)","quantity":999998,"crossReference":null,"inventoryType":"Medication","price":null,"reorderPoint":null,"distributionUnit":"vial","rank":null,"lastModified":"2015-12-29T04:01:16.249Z","modifiedBy":"Admin User","locations":["24BB235E-B271-AF61-9A3D-9ACD77CE25AF","DBCF3E06-B812-B6C7-930E-74F9372D384A"],"purchases":["E3B2184F-4ECA-3B76-92C8-437846C2E3DC"],"modifiedFields":{"name":"2015-12-29T03:08:24.053Z","inventoryType":"2015-12-29T03:08:24.053Z","distributionUnit":"2015-12-29T03:08:24.053Z","quantity":"2015-12-29T04:01:16.249Z","friendlyId":"2015-12-29T03:08:24.053Z"}},"_revisions":{"start":3,"ids":["0c0a71f273bf0633cafce271b0f35007","42bc38c66d9a87103c7871aa9aadb6b5","295e3c0d1de3d7a7d384ae5090d82125"]}},{"_id":"inventory_2_iiqtim0c_ex","_rev":"4-6900f25cb0aa33334fb6c69e4a828718","data":{"description":null,"friendlyId":"s00001","name":"Pumpset Kangaroo 1000ml","quantity":12,"crossReference":null,"inventoryType":"Supply","price":null,"reorderPoint":null,"distributionUnit":"pcs","rank":null,"lastModified":"2015-12-29T03:47:26.017Z","modifiedBy":"Admin User","locations":["0323721B-EDD0-6C91-BB34-52FBEACBA7DE","7FD0F94A-6D4E-6365-A4EF-F7B4F8D35C22","32BCC947-E272-1564-90E1-C6E2ECE14881"],"purchases":["05760051-8BD1-ACC0-8013-0C59A545FB8D","155B2B94-6C47-E6B5-BD1E-11F375CB2C29"],"modifiedFields":{"name":"2015-12-29T03:12:56.959Z","inventoryType":"2015-12-29T03:12:56.959Z","distributionUnit":"2015-12-29T03:12:56.959Z","quantity":"2015-12-29T03:47:26.017Z","friendlyId":"2015-12-29T03:12:56.959Z"}},"_revisions":{"start":4,"ids":["6900f25cb0aa33334fb6c69e4a828718","03eb3fc36799eb0e78c1d4f5b45e50a0","064996d833372bc743ccd60baa1174b9","1622cc9c6428d24950f02c88112840f4"]}},{"_id":"lab_2_C9274C34-248C-FF7C-9E8B-F3110467C941","_rev":"2-78aaf934410f626a7dc64c8ce640ad17","data":{"labDate":"2015-12-29T04:07:25.725Z","notes":null,"requestedBy":"Admin User","requestedDate":"2015-12-29T04:03:22.879Z","result":"Normal","status":"Completed","lastModified":"2015-12-29T04:07:25.725Z","modifiedBy":"Admin User","labType":"A33BFA09-AFBB-CA35-A01C-702B568FFAE8","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","charges":[],"modifiedFields":{"status":"2015-12-29T04:07:25.725Z","requestedBy":"2015-12-29T04:03:22.927Z","requestedDate":"2015-12-29T04:03:22.927Z","result":"2015-12-29T04:07:25.725Z","labDate":"2015-12-29T04:07:25.725Z"}},"_revisions":{"start":2,"ids":["78aaf934410f626a7dc64c8ce640ad17","0e55563ae178ae5b340c29a50f168925"]}},{"_id":"lab_2_EE3063E6-832D-930D-AD4E-D27341709886","_rev":"1-b0364bd6b060df4a2084ca292de1ad71","data":{"labDate":null,"notes":null,"requestedBy":"Admin User","requestedDate":"2015-12-29T04:18:34.699Z","result":null,"status":"Requested","lastModified":"2015-12-29T04:18:34.731Z","modifiedBy":"Admin User","labType":"4C0FA251-6FEA-8DDA-9DEB-83993EAB25F2","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","charges":[],"modifiedFields":{"status":"2015-12-29T04:18:34.731Z","requestedBy":"2015-12-29T04:18:34.731Z","requestedDate":"2015-12-29T04:18:34.731Z"}}},{"_id":"lookup_2_aisle_location_list","_rev":"1-255c62c74fb06e5c13664e9e70aebef5","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["A1"]}},{"_id":"lookup_2_cpt_code_list","_rev":"1-499cca90fccff759c62b2fc781010226","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["27001"]}},{"_id":"lookup_2_diagnosis_list","_rev":"1-889e0d198f50d28df33bf522106b9438","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Fall from in-line roller-skates, initial encounter"]}},{"_id":"lookup_2_expense_account_list","_rev":"2-3404736b154767f3fe30e297704480be","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Pharmacy","Ward"]},"_revisions":{"start":2,"ids":["3404736b154767f3fe30e297704480be","36426f839aa10324a85e92d34fcf2c26"]}},{"_id":"lookup_2_patient_status_list","_rev":"1-01d7dfb8ec77de492bf913c5c763578c","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Scheduled for surgery"]}},{"_id":"lookup_2_physician_list","_rev":"1-99c8212cef905d552ab95fc88b8c3d5b","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Dr Nick"]}},{"_id":"lookup_2_procedure_list","_rev":"1-d48989bf01a1ae70a26e397c43266278","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["hip adductor release"]}},{"_id":"lookup_2_radiologists","_rev":"1-f029e944b51dcc7fd6f980d72c7027c7","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Dr Xray"]}},{"_id":"lookup_2_sex","_rev":"2-215b9ef2d7091253f179116902ee61ae","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Female","Male"]},"_revisions":{"start":2,"ids":["215b9ef2d7091253f179116902ee61ae","0cb12aaddee831fd798fd248e108f946"]}},{"_id":"lookup_2_vendor_list","_rev":"1-a2760a7c86532da3f92ac75899b37e06","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["ACME INC"]}},{"_id":"lookup_2_visit_location_list","_rev":"1-d373d65b719c266173d92d3bb8f14e9f","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Hospital"]}},{"_id":"lookup_2_warehouse_list","_rev":"3-86923622f95bb3f49a906cb7cbacdc85","data":{"importFile":false,"organizeByType":false,"userCanAdd":true,"value":["Pharmacy","Ward 1","Warehouse"]},"_revisions":{"start":3,"ids":["86923622f95bb3f49a906cb7cbacdc85","64a1b3813d337c7000044dbc2de21892","4f316909ed8500d0f80cf20a684ce343"]}},{"_id":"medication_2_7B63E873-D056-CCC5-A69C-60064472A16E","_rev":"1-1ebd1e9a0f4dd4d90b52eb37db7fb493","data":{"notes":null,"prescription":"Twice a day for two days","prescriptionDate":"2015-12-28T06:00:00.000Z","quantity":4,"refills":null,"requestedDate":"2015-12-29T04:16:44.877Z","requestedBy":"Admin User","status":"Requested","lastModified":"2015-12-29T04:16:44.879Z","modifiedBy":"Admin User","inventoryItem":"iiqtc6w3_31","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","modifiedFields":{"prescriptionDate":"2015-12-29T04:16:44.879Z","prescription":"2015-12-29T04:16:44.879Z","quantity":"2015-12-29T04:16:44.879Z","status":"2015-12-29T04:16:44.879Z","requestedBy":"2015-12-29T04:16:44.879Z","requestedDate":"2015-12-29T04:16:44.879Z"}}},{"_id":"medication_2_9187CEE0-13EC-1816-A2A4-95E9797999BF","_rev":"1-271cd0960f61b322d66b57a994141733","data":{"notes":null,"prescription":"Once a day for 2 days","prescriptionDate":"2015-12-01T06:00:00.000Z","quantity":2,"refills":null,"requestedDate":"2015-12-29T04:01:16.079Z","requestedBy":"Admin User","status":"Fulfilled","lastModified":"2015-12-29T04:01:16.096Z","modifiedBy":"Admin User","inventoryItem":"iiqtc6w3_31","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","modifiedFields":{"prescriptionDate":"2015-12-29T04:01:16.096Z","prescription":"2015-12-29T04:01:16.096Z","quantity":"2015-12-29T04:01:16.096Z","status":"2015-12-29T04:01:16.096Z","requestedBy":"2015-12-29T04:01:16.096Z","requestedDate":"2015-12-29T04:01:16.096Z"}}},{"_id":"option_2_address_options","_rev":"1-66324bf015573f6ab78a3b292e302315","data":{"value":{"address1Label":{"string":"Address"},"address1Include":true}}},{"_id":"option_2_print_header","_rev":"1-49d60e0df862212093cc24d50f21af16","data":{"value":{"facilityName":{"string":"Facility Name"},"headerLine1":{"string":"Header Line 1"}}}},{"_id":"patient_2_C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","_rev":"4-1c58ffef18d0e8a6cf67f5af11541f71","data":{"admitted":true,"address":null,"address2":null,"address3":null,"address4":null,"bloodType":null,"clinic":null,"country":null,"dateOfBirth":"2013-08-06T05:00:00.000Z","economicClassification":null,"email":null,"externalPatientId":null,"familySupport1":null,"familySupport2":null,"familySupport3":null,"familySupport4":null,"familySupport5":null,"friendlyId":"P00001","firstName":"Joe","sex":"Male","history":null,"insurance":null,"lastName":"Bagadonuts","livingArrangement":null,"middleName":"","notes":null,"otherIncome":null,"patientType":null,"parent":null,"phone":null,"placeOfBirth":null,"referredDate":null,"referredBy":null,"religion":null,"socialActionTaken":null,"socialRecommendation":null,"status":"Scheduled for surgery","lastModified":"2015-12-29T03:53:58.574Z","modifiedBy":"Admin User","paymentProfile":null,"payments":[],"modifiedFields":{"friendlyId":"2015-12-29T03:51:02.781Z","firstName":"2015-12-29T03:51:02.781Z","middleName":"2015-12-29T03:51:02.781Z","lastName":"2015-12-29T03:51:02.781Z","gender":"2015-12-29T03:51:02.781Z","dateOfBirth":"2015-12-29T03:51:02.781Z","status":"2015-12-29T03:53:17.032Z","admitted":"2015-12-29T03:53:58.574Z"}},"_revisions":{"start":4,"ids":["1c58ffef18d0e8a6cf67f5af11541f71","1351af326b99acc03278830f30192916","105429e78d710023d6d490e880a3132a","fa6de36be0214f08f09477729bdfb339"]}},{"_id":"pricing_2_4C0FA251-6FEA-8DDA-9DEB-83993EAB25F2","_rev":"1-410ff865070244eac14c5cad5db0ad80","data":{"category":"Lab","expenseAccount":null,"name":"Fasting Blood Sugar (FBS)","price":null,"pricingType":"Lab Procedure","lastModified":"2015-12-29T04:18:34.703Z","modifiedBy":"Admin User","pricingOverrides":[],"modifiedFields":{"name":"2015-12-29T04:18:34.703Z","category":"2015-12-29T04:18:34.703Z","pricingType":"2015-12-29T04:18:34.703Z"}}},{"_id":"pricing_2_A33BFA09-AFBB-CA35-A01C-702B568FFAE8","_rev":"1-70ff211de7621293ffbd91df901f6d0f","data":{"category":"Lab","expenseAccount":null,"name":"Bleeding Time","price":null,"pricingType":"Lab Procedure","lastModified":"2015-12-29T04:03:22.884Z","modifiedBy":"Admin User","pricingOverrides":[],"modifiedFields":{"name":"2015-12-29T04:03:22.884Z","category":"2015-12-29T04:03:22.884Z","pricingType":"2015-12-29T04:03:22.884Z"}}},{"_id":"pricing_2_B93625F1-3C41-2D3E-94B9-3A8BAF87EBE8","_rev":"1-30c9df5437c85bb21539024c7222d307","data":{"category":"Imaging","expenseAccount":null,"name":"Ankle (Any Single View)","price":null,"pricingType":"Imaging Procedure","lastModified":"2015-12-29T04:07:03.700Z","modifiedBy":"Admin User","pricingOverrides":[],"modifiedFields":{"name":"2015-12-29T04:07:03.700Z","category":"2015-12-29T04:07:03.700Z","pricingType":"2015-12-29T04:07:03.700Z"}}},{"_id":"procCharge_2_0AD46995-188B-EFB9-8A33-E47B3980476C","_rev":"1-3f577e28daa86e12c2ad71799e383c3b","data":{"quantity":1,"dateCharged":"2015-12-29T04:00:00.093Z","lastModified":"2015-12-29T04:00:08.611Z","modifiedBy":"Admin User","medication":"iiqtc6w3_31","pricingItem":null,"modifiedFields":{"dateCharged":"2015-12-29T04:00:08.611Z","quantity":"2015-12-29T04:00:08.611Z"}}},{"_id":"procedure_2_398B4F58-152F-1476-8ED1-329C4D85E25F","_rev":"5-979bd8081e0ae3ccebf595c28bafd145","data":{"anesthesiaType":"","anesthesiologist":null,"assistant":null,"description":"hip adductor release","cptCode":"27001","location":null,"notes":null,"physician":"Dr Nick","procedureDate":"2015-12-01T06:00:00.000Z","timeStarted":null,"timeEnded":null,"lastModified":"2015-12-29T04:00:33.229Z","modifiedBy":"Admin User","visit":"03C7BF8B-04E0-DD9E-9469-96A5604F5340","charges":["0AD46995-188B-EFB9-8A33-E47B3980476C"],"modifiedFields":{"procedureDate":"2015-12-29T03:59:55.401Z","description":"2015-12-29T03:59:37.244Z","physician":"2015-12-29T03:59:37.244Z","anesthesiaType":"2015-12-29T03:59:37.244Z","cptCode":"2015-12-29T04:00:33.229Z"}},"_revisions":{"start":5,"ids":["979bd8081e0ae3ccebf595c28bafd145","561ab91abdd5e0f240a3ec30c9a3e09c","0a938774f0f0e600f15dd29d08b98b50","5570e1e8726f29f430a5de6e81a36e60","6c0abd3cf72cb182b05caa21150fb113"]}},{"_id":"sequence_2_inventory_Medication","_rev":"1-1acccea88a50973cbe8840a31911aa7c","data":{"prefix":"m","value":1}},{"_id":"sequence_2_inventory_Supply","_rev":"1-538fc2bf7cd4745eea01fcf24ced6164","data":{"prefix":"s","value":1}},{"_id":"sequence_2_patient","_rev":"5-f6fd8c9cb7b07567399a04a72f02822a","data":{"prefix":null,"value":1},"_revisions":{"start":5,"ids":["f6fd8c9cb7b07567399a04a72f02822a","79dabe4ed5c7897e103171a7bf8bf1b6","945c072575a32fca103968a3cd425c31","f9a8fd6c55cd4e5fb0064b7767586e05","5bc31ffefa482f2e66299cf0704623c8"]}},{"_id":"visit_2_03C7BF8B-04E0-DD9E-9469-96A5604F5340","_rev":"14-09b2a3ac1ac8c343d0f6a6d667bc5357","data":{"dischargeInfo":null,"endDate":"2015-12-29T04:11:00.724Z","examiner":"Dr Nick","history":null,"historySince":null,"location":null,"notes":null,"outPatient":false,"paymentState":"pending","primaryDiagnosis":"Fall from in-line roller-skates, initial encounter","primaryBillingDiagnosis":null,"primaryBillingDiagnosisId":null,"startDate":"2015-12-01T15:53:00.000Z","status":"Admitted","visitType":"Admission","archived":false,"lastModified":"2016-11-02T13:40:50.466Z","modifiedBy":"Admin User","patient":"C87BFCB2-F772-7A7B-8FC7-AD00C018C32A","vitals":["B9FDB59B-BA3F-40A2-9D42-2A9B0E7270FC"],"procedures":["398B4F58-152F-1476-8ED1-329C4D85E25F"],"patientNotes":[],"medication":["9187CEE0-13EC-1816-A2A4-95E9797999BF","7B63E873-D056-CCC5-A69C-60064472A16E"],"labs":["C9274C34-248C-FF7C-9E8B-F3110467C941","EE3063E6-832D-930D-AD4E-D27341709886"],"imaging":["51AFF85A-69C0-97C1-B22C-716A1BA7B80B","12DEDA58-4670-7A74-BA8B-9CC5E5CA82E7"],"charges":[],"modifiedFields":{"visitType":"2015-12-29T03:53:58.543Z","startDate":"2015-12-29T04:11:47.272Z","status":"2016-11-02T13:40:50.466Z","outPatient":"2015-12-29T03:53:58.543Z","primaryDiagnosis":"2015-12-29T03:59:37.312Z","examiner":"2015-12-29T04:06:19.274Z","endDate":"2015-12-29T04:11:47.272Z"}},"_revisions":{"start":14,"ids":["09b2a3ac1ac8c343d0f6a6d667bc5357","c5db061eca43852a9082628407227388","48973daa88a2567931f70586aa5f4b6e","0baeb91a16dad77c0d8e55e6b38e6c8e","e26c621939e57cdf40fe92362f5dac3a","7315d0ff5e6eac570c2b47fd6e9d9406","d1be40a55f4329d18cc6c8f8b8b2d55a","e8567f5b5576aa5d4141f2776b24ab58","d54e63df97dd964288c6dd66d049dae9","210c948fb309be4793ca14cec7f3a335","29e6bb7a6732517b79f8c90fbcebdedd","a83b26f6b056f7c54d917160b366a75b","ebed6471bdd978af39c5acfc3f1f34b7","284cb8e69ca4b392156fe1d22866fcfb"]}},{"_id":"vital_2_B9FDB59B-BA3F-40A2-9D42-2A9B0E7270FC","_rev":"1-62233a35020adba2b7d65fd09e5e3cba","data":{"dateRecorded":"2015-12-04T04:08:00.000Z","temperature":36.67,"weight":"57lb","height":"3'6\"","sbp":117,"dbp":76,"heartRate":60,"respiratoryRate":12,"lastModified":"2015-12-29T04:11:11.942Z","modifiedBy":"Admin User","modifiedFields":{"dateRecorded":"2015-12-29T04:11:11.942Z","temperature":"2015-12-29T04:11:11.942Z","weight":"2015-12-29T04:11:11.942Z","height":"2015-12-29T04:11:11.942Z","sbp":"2015-12-29T04:11:11.942Z","dbp":"2015-12-29T04:11:11.942Z","heartRate":"2015-12-29T04:11:11.942Z","respiratoryRate":"2015-12-29T04:11:11.942Z"}}}]}
{"seq":127}
{"docs":[{"_id":"_design/appointments_by_date","_rev":"2-6b97d858dc2846e1bcf6f2bbd2a4ad42","_deleted":true,"_revisions":{"start":2,"ids":["6b97d858dc2846e1bcf6f2bbd2a4ad42","b5dfcfa237632b41010152a5f7f332de"]}},{"_id":"_design/appointments_by_date","_rev":"2-1fc384eae57485ff9100c0614780ab62","_deleted":true,"_revisions":{"start":2,"ids":["1fc384eae57485ff9100c0614780ab62","03951858f9232df2e774548b0f5fd068"]}},{"_id":"_design/appointments_by_date","_rev":"2-1c77e85fa63d80716da7ac836c981daa","_deleted":true,"_revisions":{"start":2,"ids":["1c77e85fa63d80716da7ac836c981daa","5df29f1d7dbd39d6b3a2145923ab73cf"]}},{"_id":"_design/appointments_by_date","_rev":"2-7e0cea0e10f12eabf9321a0ee6b0d0b9","_deleted":true,"_revisions":{"start":2,"ids":["7e0cea0e10f12eabf9321a0ee6b0d0b9","43dad88bc49b61fafb98ec235f690b8d"]}},{"_id":"_design/appointments_by_date","_rev":"2-28b4bff0597e8254f67140d44550b806","_deleted":true,"_revisions":{"start":2,"ids":["28b4bff0597e8254f67140d44550b806","178add045be11a7fd6aa7fdf97c8f3f0"]}},{"_id":"_design/appointments_by_date","_rev":"3-461875fa3e8aa582009473a4ebccf3bb","version":7,"views":{"appointments_by_date":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'appointment') {\n        var endDate = doc.data.endDate;\n    if (endDate && endDate !== \"\") {\n      endDate = new Date(endDate);\n      if (endDate.getTime) {\n        endDate = endDate.getTime();\n      }\n    }\n    var startDate = doc.data.startDate;\n    if (startDate && startDate !== \"\") {\n      startDate = new Date(startDate);\n      if (startDate.getTime) {\n        startDate = startDate.getTime();\n      }\n    }\n    if (doc.data.appointmentType !== 'Surgery') {\n      emit([startDate, endDate, doc._id]);\n    }\n      }\n    }\n  }"}},"lists":{"sort":"function(head, req) {function keysEqual(keyA, keyB) {for (var i= 0; i < keyA.length; i++) {if (keyA[i] !== keyB[i]) {return false;}}return true;}function getCompareDate(dateString) {if (!dateString || dateString === \"\") {return 0;}return new Date(dateString).getTime();}function compareStrings(aString, bString) {if (!aString) {aString = \"\";}if (!bString) {bString = \"\";}if (aString < bString) {return -1;} else if (aString > bString) {return 1;} else {return 0;}}var row,rows=[],startingPosition = 0;while(row = getRow()) {rows.push(row);}rows = rows.filter(function (row) {\n    var filterBy = null;\n    var includeRow = true;\n    if (req.query && req.query.filterBy) {\n      filterBy = JSON.parse(req.query.filterBy);\n    }\n    if (!filterBy) {\n      return true;\n    }\n    for (var i = 0; i < filterBy.length; i++) {\n      var currentValue = row.doc.data[filterBy[i].name];\n      if (filterBy[i].name === 'status' && (!currentValue || currentValue === '')) {\n        currentValue = 'Scheduled';\n      }\n      if (currentValue !== filterBy[i].value) {\n        includeRow = false;\n        break;\n      }\n    }\n    return includeRow;\n  });rows.sort(function (a, b) {\n    function defaultStatus(value) {\n      if (!value || value === '') {\n        return 'Scheduled';\n      } else {\n        return value;\n      }\n    }\n    var sortBy = '';\n    if (req.query && req.query.sortKey) {\n      sortBy = req.query.sortKey;\n    }\n    switch (sortBy) {\n      case 'appointmentType':\n      case 'location':\n      case 'provider':\n        return compareStrings(a.doc.data[sortBy], b.doc.data[sortBy]);\n      case 'date':\n        {\n          var startDiff = getCompareDate(a.doc.data.startDate) - getCompareDate(b.doc.data.startDate);\n          if (startDiff === 0) {\n            return getCompareDate(a.doc.data.endDate) - getCompareDate(b.doc.data.endDate);\n          } else {\n            return startDiff;\n          }\n        }\n      case 'status':\n        {\n          var aStatus = defaultStatus(a.doc.data[sortBy]);\n          var bStatus = defaultStatus(b.doc.data[sortBy]);\n          return compareStrings(aStatus, bStatus);\n        }\n      default:\n        {\n          return 0; // Don't sort\n        }\n    }\n  });if (req.query.sortDesc) {rows = rows.reverse();}if (req.query.sortStartKey) {var startKey = JSON.parse(req.query.sortStartKey);for (var i=0; i<rows.length; i++) {if (keysEqual(startKey, rows[i].key)) {startingPosition = i;break;}}}if (req.query.sortLimit) {rows = rows.slice(startingPosition, parseInt(req.query.sortLimit)+startingPosition);} else if (startingPosition > 0) {rows = rows.slice(startingPosition);}send(JSON.stringify({\"rows\" : rows}));}"},"_revisions":{"start":3,"ids":["461875fa3e8aa582009473a4ebccf3bb","2e78ab0f6da3881df4871d0b028148b9","4c8dd95ad6d36b9b4d86136d5e417f5c"]}},{"_id":"_design/appointments_by_patient","_rev":"2-3f36f32ad4537056da92d236724bcbe9","_deleted":true,"_revisions":{"start":2,"ids":["3f36f32ad4537056da92d236724bcbe9","7232d3292344540b2511e709422e2cbf"]}},{"_id":"_design/appointments_by_patient","_rev":"2-a8bb26daf0329c069a18ec0ce64532cb","version":4,"views":{"appointments_by_patient":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"appointment\") {var endDate = doc.data.endDate;if (endDate && endDate !== \"\") {endDate = new Date(endDate);if (endDate.getTime) {endDate = endDate.getTime();}}var startDate = doc.data.startDate;if (startDate && startDate !== \"\") {startDate = new Date(startDate);if (startDate.getTime) {startDate = startDate.getTime();}}emit([doc.data.patient, startDate, endDate,doc._id]);}}}"}},"_revisions":{"start":2,"ids":["a8bb26daf0329c069a18ec0ce64532cb","9868b6586898a48c3fd68722ca3fe1d4"]}},{"_id":"_design/appointments_by_patient","_rev":"2-f03ac9b51ff8ff5d0ac0c2dcbf275311","_deleted":true,"_revisions":{"start":2,"ids":["f03ac9b51ff8ff5d0ac0c2dcbf275311","9a97acd5b8fd071ad81afc9e730721c5"]}},{"_id":"_design/appointments_by_patient","_rev":"2-ebcde1952a311de940e77f41896729fc","_deleted":true,"_revisions":{"start":2,"ids":["ebcde1952a311de940e77f41896729fc","ba513472a0074784619768dd8aec709f"]}},{"_id":"_design/appointments_by_patient","_rev":"2-95472290edbbf99754d366808d7ad375","_deleted":true,"_revisions":{"start":2,"ids":["95472290edbbf99754d366808d7ad375","8ae350cee3bac29f386d8a485a05a636"]}},{"_id":"_design/closed_incidents_by_user","_rev":"1-f2c41662847e140e24a6fe34c04884d5","version":1,"views":{"closed_incidents_by_user":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'incident') {\n        if (doc.data.status === \"Closed\") {\n      emit([doc.data.reportedBy, doc._id]);\n    }\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["f2c41662847e140e24a6fe34c04884d5"]}},{"_id":"_design/closed_incidents_by_user","_rev":"2-015308a858bad2de29d60009200a0811","_deleted":true,"_revisions":{"start":2,"ids":["015308a858bad2de29d60009200a0811","c65006c0dbbb985fb2ffff9e0224058f"]}},{"_id":"_design/closed_incidents_by_user","_rev":"2-75c7c68bdab07d87063eb87fefe8fe9f","_deleted":true,"_revisions":{"start":2,"ids":["75c7c68bdab07d87063eb87fefe8fe9f","bf16176c13be57af9a4f1a0980710190"]}},{"_id":"_design/custom_form_by_type","_rev":"1-ddf0ee75c1e8e859d821a9f5c1ec43b6","version":1,"views":{"custom_form_by_type":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'customForm') {\n        emit(doc.data.formType);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["ddf0ee75c1e8e859d821a9f5c1ec43b6"]}},{"_id":"_design/custom_form_by_type","_rev":"2-409552d06dc3f0b37c3b6b60e08cdaf7","_deleted":true,"_revisions":{"start":2,"ids":["409552d06dc3f0b37c3b6b60e08cdaf7","3f597820974f55247295842e2e30fd25"]}},{"_id":"_design/custom_form_by_type","_rev":"2-614bd1083c834bf129a7870f8bacea00","_deleted":true,"_revisions":{"start":2,"ids":["614bd1083c834bf129a7870f8bacea00","97186d1d5f295f271352a049d6eae0e5"]}},{"_id":"_design/idx-2f5e2177ec7d8e7a70d0063fb4caa83d","_rev":"1-979b223a322dc4ac2262ef8d6eb2e0a0","language":"query","views":{"inventory":{"map":{"fields":{"data.crossReference":"asc","data.description":"asc","data.friendlyId":"asc","data.name":"asc"}},"reduce":"_count","options":{"def":{"fields":["data.crossReference","data.description","data.friendlyId","data.name"]}}}},"_revisions":{"start":1,"ids":["979b223a322dc4ac2262ef8d6eb2e0a0"]}},{"_id":"_design/idx-2f5e2177ec7d8e7a70d0063fb4caa83d","_rev":"2-08c3e6a40bfb8488617a7d1005585574","_deleted":true,"_revisions":{"start":2,"ids":["08c3e6a40bfb8488617a7d1005585574","66f648f619b6cb619634ec482c261fcf"]}},{"_id":"_design/idx-70a1440ed6d5c8595ee0d5cbbee7c7fe","_rev":"1-f084f22b3712de7222d0da375c138d86","language":"query","views":{"pricing":{"map":{"fields":{"data.name":"asc"}},"reduce":"_count","options":{"def":{"fields":["data.name"]}}}},"_revisions":{"start":1,"ids":["f084f22b3712de7222d0da375c138d86"]}},{"_id":"_design/idx-70a1440ed6d5c8595ee0d5cbbee7c7fe","_rev":"2-a0fd7f29c15efa36694e77cf30b27c86","_deleted":true,"_revisions":{"start":2,"ids":["a0fd7f29c15efa36694e77cf30b27c86","af44e12813f338f26826926423bc2d98"]}},{"_id":"_design/idx-9371abd6c668005275c54f7686c12192","_rev":"1-a0fe0af03afc5092727c176ef1136813","language":"query","views":{"medication":{"map":{"fields":{"data.prescription":"asc"}},"reduce":"_count","options":{"def":{"fields":["data.prescription"]}}}},"_revisions":{"start":1,"ids":["a0fe0af03afc5092727c176ef1136813"]}},{"_id":"_design/idx-9371abd6c668005275c54f7686c12192","_rev":"2-ddb60614963580755a6a7a9ad71cc5f1","_deleted":true,"_revisions":{"start":2,"ids":["ddb60614963580755a6a7a9ad71cc5f1","70b14b928fbfb56746b44ae4d05cf991"]}},{"_id":"_design/idx-a4cd9142cc8dd0932adc56b8a49432ef","_rev":"1-6f3bc5efba2e82c81f3a9b970ef51281","language":"query","views":{"invoices":{"map":{"fields":{"data.externalInvoiceNumber":"asc","data.patientInfo":"asc"}},"reduce":"_count","options":{"def":{"fields":["data.externalInvoiceNumber","data.patientInfo"]}}}},"_revisions":{"start":1,"ids":["6f3bc5efba2e82c81f3a9b970ef51281"]}},{"_id":"_design/idx-a4cd9142cc8dd0932adc56b8a49432ef","_rev":"2-e1bacaacc7465cefc35d1e2bfe57ca53","_deleted":true,"_revisions":{"start":2,"ids":["e1bacaacc7465cefc35d1e2bfe57ca53","51de112bae86e18902aed3fcb1e79a3a"]}},{"_id":"_design/idx-c419535efa5657ee6b9c412c7741de85","_rev":"1-b88095b42d2c401d865ae7f3d0dee2c1","language":"query","views":{"patient":{"map":{"fields":{"data.externalPatientId":"asc","data.firstName":"asc","data.friendlyId":"asc","data.lastName":"asc","data.phone":"asc"}},"reduce":"_count","options":{"def":{"fields":["data.externalPatientId","data.firstName","data.friendlyId","data.lastName","data.phone"]}}}},"_revisions":{"start":1,"ids":["b88095b42d2c401d865ae7f3d0dee2c1"]}},{"_id":"_design/idx-c419535efa5657ee6b9c412c7741de85","_rev":"2-d13a553209e2037d60ed6f3bc7c1569d","_deleted":true,"_revisions":{"start":2,"ids":["d13a553209e2037d60ed6f3bc7c1569d","6bb2545e90901a7ac3b2c9ff00d0d92e"]}},{"_id":"_design/imaging_by_status","_rev":"2-416ed7687768844c4164283d01161e16","_deleted":true,"_revisions":{"start":2,"ids":["416ed7687768844c4164283d01161e16","2feb5103c3f6d149bf98f0adeaa76b38"]}},{"_id":"_design/imaging_by_status","_rev":"2-d95963d206ead3bdf76901ffafdebc13","_deleted":true,"_revisions":{"start":2,"ids":["d95963d206ead3bdf76901ffafdebc13","36496c8ba7203a43290b5fd5274fa917"]}},{"_id":"_design/imaging_by_status","_rev":"2-c13cdf46b0ada4601e71c65353dae3df","_deleted":true,"_revisions":{"start":2,"ids":["c13cdf46b0ada4601e71c65353dae3df","1a3bab3d2d1403299a9e4ad8dffe5fa1"]}},{"_id":"_design/imaging_by_status","_rev":"2-b49b5173548eac23b1765f8c73fd6468","_deleted":true,"_revisions":{"start":2,"ids":["b49b5173548eac23b1765f8c73fd6468","09d39f8f9cac22c4fb07e4f8de25ab83"]}},{"_id":"_design/imaging_by_status","_rev":"2-57660077d48a8a4a0c1a3dd6ae214aac","version":4,"views":{"imaging_by_status":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"imaging\") {var imagingDate = doc.data.imagingDate;if (imagingDate && imagingDate !== \"\") {imagingDate = new Date(imagingDate);if (imagingDate.getTime) {imagingDate = imagingDate.getTime();}}var requestedDate = doc.data.requestedDate;if (requestedDate && requestedDate !== \"\") {requestedDate = new Date(requestedDate);if (requestedDate.getTime) {requestedDate = requestedDate.getTime();}}emit([doc.data.status, requestedDate, imagingDate, doc._id]);}}}"}},"_revisions":{"start":2,"ids":["57660077d48a8a4a0c1a3dd6ae214aac","9236042e1fb9f567d1d527bbb429cd8e"]}},{"_id":"_design/incident_by_date","_rev":"1-a84f056fa8d6b3724a22adedc3ad9bda","version":1,"views":{"incident_by_date":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'incident') {\n        var dateOfIncident = doc.data.dateOfIncident;\n    if (dateOfIncident && dateOfIncident !== \"\") {\n      dateOfIncident = new Date(dateOfIncident);\n      if (dateOfIncident.getTime) {\n        dateOfIncident = dateOfIncident.getTime();\n      }\n    }\n    emit([dateOfIncident, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["a84f056fa8d6b3724a22adedc3ad9bda"]}},{"_id":"_design/incident_by_date","_rev":"2-8384943355d3e24c14622b00c86a0985","_deleted":true,"_revisions":{"start":2,"ids":["8384943355d3e24c14622b00c86a0985","59fa59734ee129cff0560b20a95d2d4e"]}},{"_id":"_design/incident_by_date","_rev":"2-0a97ce56844077c90b0874ae308b04d1","_deleted":true,"_revisions":{"start":2,"ids":["0a97ce56844077c90b0874ae308b04d1","a7bd4210a950773d4fbf636af02ca761"]}},{"_id":"_design/incident_by_friendly_id","_rev":"1-885a12b67da47e956bc190fe1fe0d4e6","version":1,"views":{"incident_by_friendly_id":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'incident') {\n        emit([doc.data.friendlyId, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["885a12b67da47e956bc190fe1fe0d4e6"]}},{"_id":"_design/incident_by_friendly_id","_rev":"2-58319a4195199e7913e5cbb200af7c27","_deleted":true,"_revisions":{"start":2,"ids":["58319a4195199e7913e5cbb200af7c27","4d1bd103b09f7edcc4d5902264f90b36"]}},{"_id":"_design/incident_by_friendly_id","_rev":"2-c7934c6819d968b7d65eb3adf1b004d1","_deleted":true,"_revisions":{"start":2,"ids":["c7934c6819d968b7d65eb3adf1b004d1","59a400047b8a74ade494acf6115b2ac8"]}},{"_id":"_design/inventory_by_friendly_id","_rev":"1-b04891f56f5ae9f59f70a56a5a3435a2","version":1,"views":{"inventory_by_friendly_id":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'inventory') {\n        emit([doc.data.friendlyId, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["b04891f56f5ae9f59f70a56a5a3435a2"]}},{"_id":"_design/inventory_by_friendly_id","_rev":"2-bca48922155855d6199299acf65df10d","_deleted":true,"_revisions":{"start":2,"ids":["bca48922155855d6199299acf65df10d","82e24378f074a284cae14da4db5431ed"]}},{"_id":"_design/inventory_by_friendly_id","_rev":"2-e634344c91b6e8e27baf28d00406eab2","_deleted":true,"_revisions":{"start":2,"ids":["e634344c91b6e8e27baf28d00406eab2","1584e8dd81346c8043ed0547a336c71c"]}},{"_id":"_design/inventory_by_name","_rev":"2-6970ab89b44af8c2703a89d6dea9b20b","_deleted":true,"_revisions":{"start":2,"ids":["6970ab89b44af8c2703a89d6dea9b20b","304304d63beaffd8d1ae4ae1cddf4b2b"]}},{"_id":"_design/inventory_by_name","_rev":"2-505ea3a58baa4d9d95148749f2c168b7","_deleted":true,"_revisions":{"start":2,"ids":["505ea3a58baa4d9d95148749f2c168b7","39d437424b72734a35dd12148c8c808b"]}},{"_id":"_design/inventory_by_name","_rev":"2-434f4cb5ef0baef4dddaf2c1914d2f0e","_deleted":true,"_revisions":{"start":2,"ids":["434f4cb5ef0baef4dddaf2c1914d2f0e","91f55ae6bd30f766d9da95bffe054bcb"]}},{"_id":"_design/inventory_by_name","_rev":"2-6993fbc5ef18283f83c6afe5be9a9351","version":5,"views":{"inventory_by_name":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'inventory') {\n        emit([doc.data.name, doc._id]);\n      }\n    }\n  }"}},"lists":{"sort":"function(head, req) {function keysEqual(keyA, keyB) {for (var i= 0; i < keyA.length; i++) {if (keyA[i] !== keyB[i]) {return false;}}return true;}function compareStrings(aString, bString) {if (!aString) {aString = \"\";}if (!bString) {bString = \"\";}if (aString < bString) {return -1;} else if (aString > bString) {return 1;} else {return 0;}}var row,rows=[],startingPosition = 0;while(row = getRow()) {rows.push(row);}rows.sort(function (a, b) {\n      var sortBy = '';\n      if (req.query && req.query.sortKey) {\n        sortBy = req.query.sortKey;\n      }\n      switch (sortBy) {\n        case 'crossReference':\n        case 'description':\n        case 'friendlyId':\n        case 'name':\n        case 'price':\n        case 'quantity':\n        case 'inventoryType':\n          {\n            return compareStrings(a.doc.data[sortBy], b.doc.data[sortBy]);\n          }\n        default:\n          {\n            return 0; // Don't sort\n          }\n      }\n    });if (req.query.sortDesc) {rows = rows.reverse();}if (req.query.sortStartKey) {var startKey = JSON.parse(req.query.sortStartKey);for (var i=0; i<rows.length; i++) {if (keysEqual(startKey, rows[i].key)) {startingPosition = i;break;}}}if (req.query.sortLimit) {rows = rows.slice(startingPosition, parseInt(req.query.sortLimit)+startingPosition);} else if (startingPosition > 0) {rows = rows.slice(startingPosition);}send(JSON.stringify({\"rows\" : rows}));}"},"_revisions":{"start":2,"ids":["6993fbc5ef18283f83c6afe5be9a9351","c12e4467c9c3ecc8021b660934257f25"]}},{"_id":"_design/inventory_by_name","_rev":"2-a6bfda00825b727187f3f73a2331e0b6","_deleted":true,"_revisions":{"start":2,"ids":["a6bfda00825b727187f3f73a2331e0b6","14e094dab3e571a112c70f8256fa0fab"]}},{"_id":"_design/inventory_by_type","_rev":"1-b7ccefad1a7162bef0c30aa80fd8d35a","version":5,"views":{"inventory_by_type":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'inventory') {\n        emit(doc.data.inventoryType);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["b7ccefad1a7162bef0c30aa80fd8d35a"]}},{"_id":"_design/inventory_by_type","_rev":"2-b7f742524dbcc63f517961f0e82bd99d","_deleted":true,"_revisions":{"start":2,"ids":["b7f742524dbcc63f517961f0e82bd99d","65423cfcd4b0acd93b58aa2003907c92"]}},{"_id":"_design/inventory_by_type","_rev":"2-a5cd4eb9d62940627bd99b9e73cd7b15","_deleted":true,"_revisions":{"start":2,"ids":["a5cd4eb9d62940627bd99b9e73cd7b15","18455500e1e86544edceaab01bb511bc"]}},{"_id":"_design/inventory_by_type","_rev":"2-2f0df4e3dc8ba6d384f896efd4a272cf","_deleted":true,"_revisions":{"start":2,"ids":["2f0df4e3dc8ba6d384f896efd4a272cf","003ef699ab0f2b8628c0bf613fabf7a2"]}},{"_id":"_design/inventory_by_type","_rev":"2-dc21ac344f51039ee06b71cc26f909de","_deleted":true,"_revisions":{"start":2,"ids":["dc21ac344f51039ee06b71cc26f909de","34cced8a0f7124b3f6da7ce5d444de2a"]}},{"_id":"_design/inventory_purchase_by_date_received","_rev":"1-9cf58e20409a2cd28e72228163ead551","version":5,"views":{"inventory_purchase_by_date_received":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'invPurchase') {\n        var dateReceived = doc.data.dateReceived;\n    if (dateReceived && dateReceived !== \"\") {\n      dateReceived = new Date(dateReceived);\n      if (dateReceived.getTime) {\n        dateReceived = dateReceived.getTime();\n      }\n    }\n    emit([dateReceived, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["9cf58e20409a2cd28e72228163ead551"]}},{"_id":"_design/inventory_purchase_by_date_received","_rev":"2-73e7f6296f3cf0b6ee42f6db1e30b936","_deleted":true,"_revisions":{"start":2,"ids":["73e7f6296f3cf0b6ee42f6db1e30b936","4351e55d135a6ffa3db68e6b999bd940"]}},{"_id":"_design/inventory_purchase_by_date_received","_rev":"2-65f020065c11403193b02742a05b91ae","_deleted":true,"_revisions":{"start":2,"ids":["65f020065c11403193b02742a05b91ae","78939ec45bef330bbfa87763dbbfce37"]}},{"_id":"_design/inventory_purchase_by_date_received","_rev":"2-392c104e0d9eac6f20948f0d97dd192d","_deleted":true,"_revisions":{"start":2,"ids":["392c104e0d9eac6f20948f0d97dd192d","0d7b597aeae746589980b12903768252"]}},{"_id":"_design/inventory_purchase_by_date_received","_rev":"2-8d620a62aa8ca64c843dd7c83bd76a71","_deleted":true,"_revisions":{"start":2,"ids":["8d620a62aa8ca64c843dd7c83bd76a71","823be94576112c800022b256ccd9b725"]}},{"_id":"_design/inventory_purchase_by_expiration_date","_rev":"1-b4f7edbbacb2c1027bbb00a81e866f11","version":5,"views":{"inventory_purchase_by_expiration_date":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'invPurchase') {\n        var expirationDate = doc.data.expirationDate;\n    if (expirationDate && expirationDate !== \"\") {\n      expirationDate = new Date(expirationDate);\n      if (expirationDate.getTime) {\n        expirationDate = expirationDate.getTime();\n      }\n    }\n    emit([expirationDate, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["b4f7edbbacb2c1027bbb00a81e866f11"]}},{"_id":"_design/inventory_purchase_by_expiration_date","_rev":"2-f6e530de9cbdb1b27dd2a13fccd00980","_deleted":true,"_revisions":{"start":2,"ids":["f6e530de9cbdb1b27dd2a13fccd00980","7aea58304996ccb168865141592a024f"]}},{"_id":"_design/inventory_purchase_by_expiration_date","_rev":"2-9da617bbfd6e7355864c21be36c690c4","_deleted":true,"_revisions":{"start":2,"ids":["9da617bbfd6e7355864c21be36c690c4","1f41dd6d030c58884d7013ef9436decb"]}},{"_id":"_design/inventory_purchase_by_expiration_date","_rev":"2-62da657978fe114d268935ceeb00377e","_deleted":true,"_revisions":{"start":2,"ids":["62da657978fe114d268935ceeb00377e","8561d904b5c01822c3b2ed05add9ee4f"]}},{"_id":"_design/inventory_purchase_by_expiration_date","_rev":"2-d900cddd5fcc673d77fbd2f6d783475d","_deleted":true,"_revisions":{"start":2,"ids":["d900cddd5fcc673d77fbd2f6d783475d","17bd9d3619ae03155d9929d3ebcd5023"]}},{"_id":"_design/inventory_request_by_item","_rev":"1-eb34106eee60f7766d1577a4eb59a72f","version":5,"views":{"inventory_request_by_item":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'invRequest') {\n        var dateCompleted = doc.data.dateCompleted;\n    if (dateCompleted && dateCompleted !== \"\") {\n      dateCompleted = new Date(dateCompleted);\n      if (dateCompleted.getTime) {\n        dateCompleted = dateCompleted.getTime();\n      }\n    }\n    emit([doc.data.inventoryItem, doc.data.status, dateCompleted]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["eb34106eee60f7766d1577a4eb59a72f"]}},{"_id":"_design/inventory_request_by_item","_rev":"2-c2f0efb7a0a9b3ece1cf9b7b0e88d37f","_deleted":true,"_revisions":{"start":2,"ids":["c2f0efb7a0a9b3ece1cf9b7b0e88d37f","7e7ef275a9fc15f2b5f328b1479c6097"]}},{"_id":"_design/inventory_request_by_item","_rev":"2-81a90ac8fc850741d7f64b4fbd9df7e0","_deleted":true,"_revisions":{"start":2,"ids":["81a90ac8fc850741d7f64b4fbd9df7e0","021f4c24b5b6202594f610cf5d4c63a4"]}},{"_id":"_design/inventory_request_by_item","_rev":"2-12a47eb0df7346ad7650d4832f39caa8","_deleted":true,"_revisions":{"start":2,"ids":["12a47eb0df7346ad7650d4832f39caa8","e9eb2d7f1e35296646399c7414525c33"]}},{"_id":"_design/inventory_request_by_item","_rev":"2-bc88286969e3ea96569b826d94ddc917","_deleted":true,"_revisions":{"start":2,"ids":["bc88286969e3ea96569b826d94ddc917","b64ffab82b3f21f00ee9ac1b95999e9a"]}},{"_id":"_design/inventory_request_by_status","_rev":"1-f4a7252ebf2802c53a572bf150eae05c","version":5,"views":{"inventory_request_by_status":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"invRequest\") {var dateCompleted = doc.data.dateCompleted;if (dateCompleted && dateCompleted !== \"\") {dateCompleted = new Date(dateCompleted);if (dateCompleted.getTime) {dateCompleted = dateCompleted.getTime();}}emit([doc.data.status, dateCompleted, doc._id]);}}}"}},"_revisions":{"start":1,"ids":["f4a7252ebf2802c53a572bf150eae05c"]}},{"_id":"_design/inventory_request_by_status","_rev":"2-530bd2809cbceb7392fdb758d496fd29","_deleted":true,"_revisions":{"start":2,"ids":["530bd2809cbceb7392fdb758d496fd29","cc0c1e0e01060aa62456d6ea768d8ec7"]}},{"_id":"_design/inventory_request_by_status","_rev":"2-71bf370624cec016ae6e8645dbd62a1d","_deleted":true,"_revisions":{"start":2,"ids":["71bf370624cec016ae6e8645dbd62a1d","c18e0e14b13c9e706a76bd264ae6ab54"]}},{"_id":"_design/inventory_request_by_status","_rev":"2-0338b756f9c3471052577cadc4ed9505","_deleted":true,"_revisions":{"start":2,"ids":["0338b756f9c3471052577cadc4ed9505","187394c79d3206e11e112891f0d63550"]}},{"_id":"_design/inventory_request_by_status","_rev":"2-2d5e0344fd76e33a15d8b2c55f3da49e","_deleted":true,"_revisions":{"start":2,"ids":["2d5e0344fd76e33a15d8b2c55f3da49e","c07c5d75e1795f3848168bfacf0a1178"]}},{"_id":"_design/invoice_by_patient","_rev":"1-b67eb3b4b4260612b418e8b9af992e63","version":1,"views":{"invoice_by_patient":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'invoice') {\n        emit(doc.data.patient);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["b67eb3b4b4260612b418e8b9af992e63"]}},{"_id":"_design/invoice_by_patient","_rev":"2-72b76c10c4520967be14ac2443d074a9","_deleted":true,"_revisions":{"start":2,"ids":["72b76c10c4520967be14ac2443d074a9","a491390f74ce432d9cfab78291e0753b"]}},{"_id":"_design/invoice_by_patient","_rev":"2-6f4cea4e5d7ba4aa3ed8d0ab6bb052af","_deleted":true,"_revisions":{"start":2,"ids":["6f4cea4e5d7ba4aa3ed8d0ab6bb052af","9f67a58d4e428614844ac82cb2548268"]}},{"_id":"_design/invoice_by_patient","_rev":"2-248d989874dd00919ccd0497b2a822c2","_deleted":true,"_revisions":{"start":2,"ids":["248d989874dd00919ccd0497b2a822c2","201889804908b296a94ec8e95772ee54"]}},{"_id":"_design/invoice_by_status","_rev":"2-20da7eaed84185c87f7ee93365619612","_deleted":true,"_revisions":{"start":2,"ids":["20da7eaed84185c87f7ee93365619612","c096b9ea33d56cba59a25ae3a59c3bec"]}},{"_id":"_design/invoice_by_status","_rev":"2-7850ddbe88cf85231bfe32a1f996f093","_deleted":true,"_revisions":{"start":2,"ids":["7850ddbe88cf85231bfe32a1f996f093","d411e6f66f897f0b9b985dc6e5188d85"]}},{"_id":"_design/invoice_by_status","_rev":"2-072e2f7f1519a12260fe98c90f794b06","version":4,"views":{"invoice_by_status":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"invoice\") {var billDate = doc.data.billDate;if (billDate && billDate !== \"\") {billDate = new Date(billDate);if (billDate.getTime) {billDate = billDate.getTime();}}emit([doc.data.status, billDate, doc._id]);}}}"}},"_revisions":{"start":2,"ids":["072e2f7f1519a12260fe98c90f794b06","73e3e45673ed0c4f4ae1cee855f216f0"]}},{"_id":"_design/invoice_by_status","_rev":"2-d88d6c08ad0c49ed6d2b3a55a0268931","_deleted":true,"_revisions":{"start":2,"ids":["d88d6c08ad0c49ed6d2b3a55a0268931","25a58e1cec7f01d0a7e8da1293f59b69"]}},{"_id":"_design/invoice_by_status","_rev":"2-903f6696779357c2baf99a6577ddf8f6","_deleted":true,"_revisions":{"start":2,"ids":["903f6696779357c2baf99a6577ddf8f6","7e83b0085bac9dbb2116c568ec0947a3"]}},{"_id":"_design/lab_by_status","_rev":"2-ef5e8b51b3704c0cb1e525a63c81bd80","version":4,"views":{"lab_by_status":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"lab\") {var labDate = doc.data.labDate;if (labDate && labDate !== \"\") {labDate = new Date(labDate);if (labDate.getTime) {labDate = labDate.getTime();}}var requestedDate = doc.data.requestedDate;if (requestedDate && requestedDate !== \"\") {requestedDate = new Date(requestedDate);if (requestedDate.getTime) {requestedDate = requestedDate.getTime();}}emit([doc.data.status, requestedDate, labDate, doc._id]);}}}"}},"_revisions":{"start":2,"ids":["ef5e8b51b3704c0cb1e525a63c81bd80","db4393c6856b98a40afd6ceef31db2a7"]}},{"_id":"_design/lab_by_status","_rev":"2-a3e2e3df161e7880986b81f873a974d5","_deleted":true,"_revisions":{"start":2,"ids":["a3e2e3df161e7880986b81f873a974d5","7d4de6e219b482171b7ecd485ef72238"]}},{"_id":"_design/lab_by_status","_rev":"2-5702c1aeec34763a6b121fa6578a8bfe","_deleted":true,"_revisions":{"start":2,"ids":["5702c1aeec34763a6b121fa6578a8bfe","5067784f0b869ef82478703ec91d34b4"]}},{"_id":"_design/lab_by_status","_rev":"2-06ea86109272efb982f89a305674020f","_deleted":true,"_revisions":{"start":2,"ids":["06ea86109272efb982f89a305674020f","4b27bbefce42ae3895f54a3589ea5528"]}},{"_id":"_design/lab_by_status","_rev":"2-9a69b9bd5a85bd3ae2a6659abbb13d83","_deleted":true,"_revisions":{"start":2,"ids":["9a69b9bd5a85bd3ae2a6659abbb13d83","16b2c13356e8dac3b3594018f91cccfb"]}},{"_id":"_design/medication_by_status","_rev":"2-e73736044255b54677931e27ff488fcb","_deleted":true,"_revisions":{"start":2,"ids":["e73736044255b54677931e27ff488fcb","f00d8dc17101ac0bd54a623922004869"]}},{"_id":"_design/medication_by_status","_rev":"2-05c7746b86e7abeadba7b3b5b512a03f","_deleted":true,"_revisions":{"start":2,"ids":["05c7746b86e7abeadba7b3b5b512a03f","a6403c53b2db46905b3b1861120c6601"]}},{"_id":"_design/medication_by_status","_rev":"2-79762c4d3cd11ead2ca9150d49b87908","_deleted":true,"_revisions":{"start":2,"ids":["79762c4d3cd11ead2ca9150d49b87908","09e1d1c201823532161ef48ba23200be"]}},{"_id":"_design/medication_by_status","_rev":"2-9dec70f4b5aeaf7d9b8d70719125c41c","version":4,"views":{"medication_by_status":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"medication\") {var prescriptionDate = doc.data.prescriptionDate;if (prescriptionDate && prescriptionDate !== \"\") {prescriptionDate = new Date(prescriptionDate);if (prescriptionDate.getTime) {prescriptionDate = prescriptionDate.getTime();}}var requestedDate = doc.data.requestedDate;if (requestedDate && requestedDate !== \"\") {requestedDate = new Date(requestedDate);if (requestedDate.getTime) {requestedDate = requestedDate.getTime();}}emit([doc.data.status, requestedDate, prescriptionDate, doc._id]);}}}"}},"_revisions":{"start":2,"ids":["9dec70f4b5aeaf7d9b8d70719125c41c","36ce9e9853552f5eb646ed26de7184dc"]}},{"_id":"_design/medication_by_status","_rev":"2-ac265d4a2649adbe4ebdc7de765e7a63","_deleted":true,"_revisions":{"start":2,"ids":["ac265d4a2649adbe4ebdc7de765e7a63","fc6723f26ffdf9e7fd550893c874e830"]}},{"_id":"_design/open_incidents_by_user","_rev":"1-d0c606f0444ccf3545788ec409550609","version":1,"views":{"open_incidents_by_user":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'incident') {\n        if (doc.data.status !== \"Closed\") {\n      emit([doc.data.reportedBy, doc._id]);\n    }\n      }\n    }\n  }"}},"lists":{"sort":"function(head, req) {function keysEqual(keyA, keyB) {for (var i= 0; i < keyA.length; i++) {if (keyA[i] !== keyB[i]) {return false;}}return true;}function compareStrings(aString, bString) {if (!aString) {aString = \"\";}if (!bString) {bString = \"\";}if (aString < bString) {return -1;} else if (aString > bString) {return 1;} else {return 0;}}var row,rows=[],startingPosition = 0;while(row = getRow()) {rows.push(row);}rows.sort(function (a, b) {\n      var sortBy = '';\n      if (req.query && req.query.sortKey) {\n        sortBy = req.query.sortKey;\n        return compareStrings(a.doc.data[sortBy], b.doc.data[sortBy]);\n      }\n      return 0; // Don't sort\n    });if (req.query.sortDesc) {rows = rows.reverse();}if (req.query.sortStartKey) {var startKey = JSON.parse(req.query.sortStartKey);for (var i=0; i<rows.length; i++) {if (keysEqual(startKey, rows[i].key)) {startingPosition = i;break;}}}if (req.query.sortLimit) {rows = rows.slice(startingPosition, parseInt(req.query.sortLimit)+startingPosition);} else if (startingPosition > 0) {rows = rows.slice(startingPosition);}send(JSON.stringify({\"rows\" : rows}));}"},"_revisions":{"start":1,"ids":["d0c606f0444ccf3545788ec409550609"]}},{"_id":"_design/open_incidents_by_user","_rev":"2-d9567d2b97396b6f153d855f8dd902a0","_deleted":true,"_revisions":{"start":2,"ids":["d9567d2b97396b6f153d855f8dd902a0","21effcd1cbc8cdc61f5b33c485702d15"]}},{"_id":"_design/open_incidents_by_user","_rev":"2-05984c30c0ffb50b2823e8805ed9444d","_deleted":true,"_revisions":{"start":2,"ids":["05984c30c0ffb50b2823e8805ed9444d","34770efd210920a30c96d3787521e8a5"]}},{"_id":"_design/patient_by_admission","_rev":"2-cb3270a3d44a370d50128b93179d3503","version":4,"views":{"patient_by_admission":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'patient') {\n        if (doc.data.admitted === true) {\n      if (doc.data.friendlyId) {\n    emit([doc.data.friendlyId, doc._id]);\n  } else if (doc.data.externalPatientId) {\n    emit([doc.data.externalPatientId, doc._id]);\n  } else {\n    emit([doc._id, doc._id]);\n }\n    }\n      }\n    }\n  }"}},"lists":{"sort":"function(head, req) {function keysEqual(keyA, keyB) {for (var i= 0; i < keyA.length; i++) {if (keyA[i] !== keyB[i]) {return false;}}return true;}function getCompareDate(dateString) {if (!dateString || dateString === \"\") {return 0;}return new Date(dateString).getTime();}function compareStrings(aString, bString) {if (!aString) {aString = \"\";}if (!bString) {bString = \"\";}if (aString < bString) {return -1;} else if (aString > bString) {return 1;} else {return 0;}}var row,rows=[],startingPosition = 0;while(row = getRow()) {rows.push(row);}rows.sort(function (a, b) {\n    var sortBy = '';\n    if (req.query && req.query.sortKey) {\n      sortBy = req.query.sortKey;\n    }\n    switch (sortBy) {\n      case 'firstName':\n      case 'sex':\n      case 'lastName':\n      case 'status':\n        {\n          return compareStrings(a.doc.data[sortBy], b.doc.data[sortBy]);\n        }\n      case 'dateOfBirth':\n        {\n          return getCompareDate(a.doc.data.dateOfBirth) - getCompareDate(b.doc.data.dateOfBirth);\n        }\n      default:\n        {\n          return 0; // Don't sort\n        }\n    }\n  });if (req.query.sortDesc) {rows = rows.reverse();}if (req.query.sortStartKey) {var startKey = JSON.parse(req.query.sortStartKey);for (var i=0; i<rows.length; i++) {if (keysEqual(startKey, rows[i].key)) {startingPosition = i;break;}}}if (req.query.sortLimit) {rows = rows.slice(startingPosition, parseInt(req.query.sortLimit)+startingPosition);} else if (startingPosition > 0) {rows = rows.slice(startingPosition);}send(JSON.stringify({\"rows\" : rows}));}"},"_revisions":{"start":2,"ids":["cb3270a3d44a370d50128b93179d3503","ee7b6ead26ac6b8b3f106c6d85dc175b"]}},{"_id":"_design/patient_by_admission","_rev":"2-671a666031d80371f5122d9c1851e729","_deleted":true,"_revisions":{"start":2,"ids":["671a666031d80371f5122d9c1851e729","1b9ecd00185d918e3cc6972a7f25be29"]}},{"_id":"_design/patient_by_admission","_rev":"2-48b66c33aebc97af473470a76d843289","_deleted":true,"_revisions":{"start":2,"ids":["48b66c33aebc97af473470a76d843289","7a0f24adfd0286ca3c0efe5280d6a050"]}},{"_id":"_design/patient_by_admission","_rev":"2-0c4a20f605b836224bc438f1bca26c9b","_deleted":true,"_revisions":{"start":2,"ids":["0c4a20f605b836224bc438f1bca26c9b","3c2da4380d257c95ebf4430afa48de3b"]}},{"_id":"_design/patient_by_display_id","_rev":"2-88a46c350d8994362cc0e5910f15d726","version":7,"views":{"patient_by_display_id":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'patient') {\n        if (doc.data.friendlyId) {\n    emit([doc.data.friendlyId, doc._id]);\n  } else if (doc.data.externalPatientId) {\n    emit([doc.data.externalPatientId, doc._id]);\n  } else {\n    emit([doc._id, doc._id]);\n }\n      }\n    }\n  }"}},"lists":{"sort":"function(head, req) {function keysEqual(keyA, keyB) {for (var i= 0; i < keyA.length; i++) {if (keyA[i] !== keyB[i]) {return false;}}return true;}function getCompareDate(dateString) {if (!dateString || dateString === \"\") {return 0;}return new Date(dateString).getTime();}function compareStrings(aString, bString) {if (!aString) {aString = \"\";}if (!bString) {bString = \"\";}if (aString < bString) {return -1;} else if (aString > bString) {return 1;} else {return 0;}}var row,rows=[],startingPosition = 0;while(row = getRow()) {rows.push(row);}rows.sort(function (a, b) {\n    var sortBy = '';\n    if (req.query && req.query.sortKey) {\n      sortBy = req.query.sortKey;\n    }\n    switch (sortBy) {\n      case 'firstName':\n      case 'sex':\n      case 'lastName':\n      case 'status':\n        {\n          return compareStrings(a.doc.data[sortBy], b.doc.data[sortBy]);\n        }\n      case 'dateOfBirth':\n        {\n          return getCompareDate(a.doc.data.dateOfBirth) - getCompareDate(b.doc.data.dateOfBirth);\n        }\n      default:\n        {\n          return 0; // Don't sort\n        }\n    }\n  });if (req.query.sortDesc) {rows = rows.reverse();}if (req.query.sortStartKey) {var startKey = JSON.parse(req.query.sortStartKey);for (var i=0; i<rows.length; i++) {if (keysEqual(startKey, rows[i].key)) {startingPosition = i;break;}}}if (req.query.sortLimit) {rows = rows.slice(startingPosition, parseInt(req.query.sortLimit)+startingPosition);} else if (startingPosition > 0) {rows = rows.slice(startingPosition);}send(JSON.stringify({\"rows\" : rows}));}"},"_revisions":{"start":2,"ids":["88a46c350d8994362cc0e5910f15d726","c619a041bccecc7e83b05015cc92706e"]}},{"_id":"_design/patient_by_display_id","_rev":"2-eae82996b36349ac1fce13b33546eaec","_deleted":true,"_revisions":{"start":2,"ids":["eae82996b36349ac1fce13b33546eaec","0b75ee7c82a1aadebd0bc0fd403622fb"]}},{"_id":"_design/patient_by_display_id","_rev":"2-499f253ad8b8d8c305886c907ddd6b1b","_deleted":true,"_revisions":{"start":2,"ids":["499f253ad8b8d8c305886c907ddd6b1b","9f8f7754a9b614ca8e791e4d2d3a94b4"]}},{"_id":"_design/patient_by_display_id","_rev":"2-0d054f7b541c310fdc1c7994ee2ccd49","_deleted":true,"_revisions":{"start":2,"ids":["0d054f7b541c310fdc1c7994ee2ccd49","8a6930002af6d588ecdedd5f07da0230"]}},{"_id":"_design/patient_by_display_id","_rev":"2-04967bcb87fd6a7fffc0d779044dd0b8","_deleted":true,"_revisions":{"start":2,"ids":["04967bcb87fd6a7fffc0d779044dd0b8","6f596cec9eb82609308fd9d25a9f9df2"]}},{"_id":"_design/patient_by_display_id","_rev":"2-03773133a353630bf50314ffaa086eee","_deleted":true,"_revisions":{"start":2,"ids":["03773133a353630bf50314ffaa086eee","1f7933246afdc82450f97d2b13c9468b"]}},{"_id":"_design/patient_by_status","_rev":"2-b56763993297cda52343d99f7fdd1b03","version":3,"views":{"patient_by_status":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"patient\") {emit(doc.data.status);}}}"}},"_revisions":{"start":2,"ids":["b56763993297cda52343d99f7fdd1b03","ff26a12cdb8747aae5bf26f9af3a1953"]}},{"_id":"_design/patient_by_status","_rev":"2-4ec013c8378181f235365abbb48e7803","_deleted":true,"_revisions":{"start":2,"ids":["4ec013c8378181f235365abbb48e7803","b4dd02828c370c80de1e934955277aed"]}},{"_id":"_design/patient_by_status","_rev":"2-28bbabc89f372c977f8f25a2dc4748e8","_deleted":true,"_revisions":{"start":2,"ids":["28bbabc89f372c977f8f25a2dc4748e8","49f3f7f86891fb7d60f0ee1b2db1220b"]}},{"_id":"_design/patient_by_status","_rev":"2-01f23790dd42e69b4ed27f04d61f1adf","_deleted":true,"_revisions":{"start":2,"ids":["01f23790dd42e69b4ed27f04d61f1adf","54bc74ff93db4aedff83bc649f766596"]}},{"_id":"_design/patient_by_status","_rev":"2-be99c14fd773d6757921002ff04839b6","_deleted":true,"_revisions":{"start":2,"ids":["be99c14fd773d6757921002ff04839b6","39a78741f18327a537cd98a8d4e9c15c"]}},{"_id":"_design/photo_by_patient","_rev":"2-0ea32da890536de0910ea412a3fa015c","version":4,"views":{"photo_by_patient":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"photo\") {emit(doc.data.patient);}}}"}},"_revisions":{"start":2,"ids":["0ea32da890536de0910ea412a3fa015c","e3dc5506f7f370535b85be0adc59c7cc"]}},{"_id":"_design/photo_by_patient","_rev":"2-de31ae833dd3b629df7ff2c9d0353b95","_deleted":true,"_revisions":{"start":2,"ids":["de31ae833dd3b629df7ff2c9d0353b95","3c467d8d19f2b34f7a5aae49c144f0e7"]}},{"_id":"_design/photo_by_patient","_rev":"2-d9c8eb0d084c1c616a599a6f2541f335","_deleted":true,"_revisions":{"start":2,"ids":["d9c8eb0d084c1c616a599a6f2541f335","f556895ed38bc96311ecb117783bf99a"]}},{"_id":"_design/photo_by_patient","_rev":"2-5fc163e6b59fe7fe49ea0d0b07f5b78c","_deleted":true,"_revisions":{"start":2,"ids":["5fc163e6b59fe7fe49ea0d0b07f5b78c","6a4fad4fa682efbbd058e858c328574f"]}},{"_id":"_design/photo_by_patient","_rev":"2-29a6fd37f05e4fdd0563837230cf1664","_deleted":true,"_revisions":{"start":2,"ids":["29a6fd37f05e4fdd0563837230cf1664","727ba2a3d1a106196746643395a859d0"]}},{"_id":"_design/photo_by_procedure","_rev":"1-e7b5728cf00e206331202b80d7c8fd6e","version":1,"views":{"photo_by_procedure":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'photo') {\n        emit(doc.data.procedure);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["e7b5728cf00e206331202b80d7c8fd6e"]}},{"_id":"_design/photo_by_procedure","_rev":"2-1384b84ca28077d78a5d3ac87c348af9","_deleted":true,"_revisions":{"start":2,"ids":["1384b84ca28077d78a5d3ac87c348af9","4fe807613bbb70f0410680e2a7dd0399"]}},{"_id":"_design/photo_by_procedure","_rev":"2-22926a03fa22e28a53d6c97ab67b7a89","_deleted":true,"_revisions":{"start":2,"ids":["22926a03fa22e28a53d6c97ab67b7a89","c50f7bfe6146039ab919c51495b14ac7"]}},{"_id":"_design/photo_by_visit","_rev":"1-db34596ada5c8c2bb53b77f1e6e5aa33","version":1,"views":{"photo_by_visit":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'photo') {\n        emit(doc.data.visit);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["db34596ada5c8c2bb53b77f1e6e5aa33"]}},{"_id":"_design/photo_by_visit","_rev":"2-8e5437debaeaa1e2dfa50e940f6ec365","_deleted":true,"_revisions":{"start":2,"ids":["8e5437debaeaa1e2dfa50e940f6ec365","028eeb9f7956ebecb432023549e80597"]}},{"_id":"_design/pricing_by_category","_rev":"1-b34429f4f8aff13ed218f70f039b3591","version":5,"views":{"pricing_by_category":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"pricing\") {emit([doc.data.category, doc.data.name, doc.data.pricingType, doc._id]);}}}"}},"_revisions":{"start":1,"ids":["b34429f4f8aff13ed218f70f039b3591"]}},{"_id":"_design/pricing_by_category","_rev":"2-b72bbeb6c8e50e7af281aeab0276205d","_deleted":true,"_revisions":{"start":2,"ids":["b72bbeb6c8e50e7af281aeab0276205d","521e504befa4fb5be03d3dfed5ec9ed1"]}},{"_id":"_design/pricing_by_category","_rev":"2-863731948377b8f78b9e40114899726f","_deleted":true,"_revisions":{"start":2,"ids":["863731948377b8f78b9e40114899726f","286e4c26b2d469eda746e2e05f786feb"]}},{"_id":"_design/pricing_by_category","_rev":"2-68d447e856a6194de82dcd9e506569ae","_deleted":true,"_revisions":{"start":2,"ids":["68d447e856a6194de82dcd9e506569ae","23d44e44019170eadd086734c87e3976"]}},{"_id":"_design/pricing_by_category","_rev":"2-b410254aa19dffe8ec92ad1aa5253030","_deleted":true,"_revisions":{"start":2,"ids":["b410254aa19dffe8ec92ad1aa5253030","3d703b5f240ae5838d1f20a8ad0471de"]}},{"_id":"_design/procedure_by_date","_rev":"1-a44decd8f14d01c615cf3f5b8e70f10b","version":4,"views":{"procedure_by_date":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'procedure') {\n        var procedureDate = doc.data.procedureDate;\n    if (procedureDate && procedureDate !== \"\") {\n      procedureDate = new Date(procedureDate);\n      if (procedureDate.getTime) {\n        procedureDate = procedureDate.getTime();\n      }\n    }\n    emit([procedureDate, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["a44decd8f14d01c615cf3f5b8e70f10b"]}},{"_id":"_design/procedure_by_date","_rev":"2-ecaafd92335283bdb8fc58349af63cae","_deleted":true,"_revisions":{"start":2,"ids":["ecaafd92335283bdb8fc58349af63cae","4f7487400dc437fb7dbc09eaf6416ab6"]}},{"_id":"_design/procedure_by_date","_rev":"2-876a312fff8d17933d798db8d69e9938","_deleted":true,"_revisions":{"start":2,"ids":["876a312fff8d17933d798db8d69e9938","7c23f1d0feaff1358bee1ddea760daac"]}},{"_id":"_design/procedure_by_date","_rev":"2-5b5eb6c8ca33d0d3ff9c1f6ee70eb04c","_deleted":true,"_revisions":{"start":2,"ids":["5b5eb6c8ca33d0d3ff9c1f6ee70eb04c","25ccef2a9dff3addd8c0d15cc79c363c"]}},{"_id":"_design/procedure_by_date","_rev":"2-cd64d1d9c27a559cb61a6b7ae38100ee","_deleted":true,"_revisions":{"start":2,"ids":["cd64d1d9c27a559cb61a6b7ae38100ee","20b187229a5bf2d3e4fe12e70e2ccc9c"]}},{"_id":"_design/report_by_visit","_rev":"1-c896838200ca0c24b0396e535e5d5d19","version":1,"views":{"report_by_visit":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'report') {\n        emit(doc.data.visit);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["c896838200ca0c24b0396e535e5d5d19"]}},{"_id":"_design/report_by_visit","_rev":"2-a1ebcf7e0ac30d833280b5a8c0477e95","_deleted":true,"_revisions":{"start":2,"ids":["a1ebcf7e0ac30d833280b5a8c0477e95","1295cef10df82554859efdb4c38c1c1e"]}},{"_id":"_design/report_by_visit","_rev":"2-06fbc09301fe5dfd1052497eb292dbae","_deleted":true,"_revisions":{"start":2,"ids":["06fbc09301fe5dfd1052497eb292dbae","0dd8a48992915b662afac723faee0162"]}},{"_id":"_design/sequence_by_prefix","_rev":"2-73756debd255ca93fb25eab24ed9e12a","version":4,"views":{"sequence_by_prefix":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"sequence\") {emit(doc.data.prefix);}}}"}},"_revisions":{"start":2,"ids":["73756debd255ca93fb25eab24ed9e12a","8ac3a62b4c0b624ebed3b68b27cd197e"]}},{"_id":"_design/sequence_by_prefix","_rev":"2-dcfc7e63d8ab52146460bd36ff0d5555","_deleted":true,"_revisions":{"start":2,"ids":["dcfc7e63d8ab52146460bd36ff0d5555","10f81c9287f2db782b8e293e7d9b1cde"]}},{"_id":"_design/sequence_by_prefix","_rev":"2-4b5120f368d380fa4661368cc2d952f9","_deleted":true,"_revisions":{"start":2,"ids":["4b5120f368d380fa4661368cc2d952f9","fc295d38f29a31bfc817499ec5174063"]}},{"_id":"_design/sequence_by_prefix","_rev":"2-3aeac2aa1618edcd826a76b4fc22acf4","_deleted":true,"_revisions":{"start":2,"ids":["3aeac2aa1618edcd826a76b4fc22acf4","9d6ec7e09c723aa4ee380dbd51b2cc47"]}},{"_id":"_design/sequence_by_prefix","_rev":"2-2ab8142fd9e3bdfd7b4d6444fe9afa4f","_deleted":true,"_revisions":{"start":2,"ids":["2ab8142fd9e3bdfd7b4d6444fe9afa4f","4a47589314718c2d8add1266b64b5ea6"]}},{"_id":"_design/surgical_appointments_by_date","_rev":"1-e1d2b05e6503d94fb512fd8b6408a9aa","version":1,"views":{"surgical_appointments_by_date":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'appointment') {\n        var endDate = doc.data.endDate;\n    if (endDate && endDate !== \"\") {\n      endDate = new Date(endDate);\n      if (endDate.getTime) {\n        endDate = endDate.getTime();\n      }\n    }\n    var startDate = doc.data.startDate;\n    if (startDate && startDate !== \"\") {\n      startDate = new Date(startDate);\n      if (startDate.getTime) {\n        startDate = startDate.getTime();\n      }\n    }\n    if (doc.data.appointmentType === 'Surgery') {\n      emit([startDate, endDate, doc._id]);\n    }\n      }\n    }\n  }"}},"lists":{"sort":"function(head, req) {function keysEqual(keyA, keyB) {for (var i= 0; i < keyA.length; i++) {if (keyA[i] !== keyB[i]) {return false;}}return true;}function getCompareDate(dateString) {if (!dateString || dateString === \"\") {return 0;}return new Date(dateString).getTime();}function compareStrings(aString, bString) {if (!aString) {aString = \"\";}if (!bString) {bString = \"\";}if (aString < bString) {return -1;} else if (aString > bString) {return 1;} else {return 0;}}var row,rows=[],startingPosition = 0;while(row = getRow()) {rows.push(row);}rows = rows.filter(function (row) {\n    var filterBy = null;\n    var includeRow = true;\n    if (req.query && req.query.filterBy) {\n      filterBy = JSON.parse(req.query.filterBy);\n    }\n    if (!filterBy) {\n      return true;\n    }\n    for (var i = 0; i < filterBy.length; i++) {\n      var currentValue = row.doc.data[filterBy[i].name];\n      if (filterBy[i].name === 'status' && (!currentValue || currentValue === '')) {\n        currentValue = 'Scheduled';\n      }\n      if (currentValue !== filterBy[i].value) {\n        includeRow = false;\n        break;\n      }\n    }\n    return includeRow;\n  });rows.sort(function (a, b) {\n    function defaultStatus(value) {\n      if (!value || value === '') {\n        return 'Scheduled';\n      } else {\n        return value;\n      }\n    }\n    var sortBy = '';\n    if (req.query && req.query.sortKey) {\n      sortBy = req.query.sortKey;\n    }\n    switch (sortBy) {\n      case 'appointmentType':\n      case 'location':\n      case 'provider':\n        return compareStrings(a.doc.data[sortBy], b.doc.data[sortBy]);\n      case 'date':\n        {\n          var startDiff = getCompareDate(a.doc.data.startDate) - getCompareDate(b.doc.data.startDate);\n          if (startDiff === 0) {\n            return getCompareDate(a.doc.data.endDate) - getCompareDate(b.doc.data.endDate);\n          } else {\n            return startDiff;\n          }\n        }\n      case 'status':\n        {\n          var aStatus = defaultStatus(a.doc.data[sortBy]);\n          var bStatus = defaultStatus(b.doc.data[sortBy]);\n          return compareStrings(aStatus, bStatus);\n        }\n      default:\n        {\n          return 0; // Don't sort\n        }\n    }\n  });if (req.query.sortDesc) {rows = rows.reverse();}if (req.query.sortStartKey) {var startKey = JSON.parse(req.query.sortStartKey);for (var i=0; i<rows.length; i++) {if (keysEqual(startKey, rows[i].key)) {startingPosition = i;break;}}}if (req.query.sortLimit) {rows = rows.slice(startingPosition, parseInt(req.query.sortLimit)+startingPosition);} else if (startingPosition > 0) {rows = rows.slice(startingPosition);}send(JSON.stringify({\"rows\" : rows}));}"},"_revisions":{"start":1,"ids":["e1d2b05e6503d94fb512fd8b6408a9aa"]}},{"_id":"_design/surgical_appointments_by_date","_rev":"2-dc29f411b829ebf4b96aa8410a1bf16a","_deleted":true,"_revisions":{"start":2,"ids":["dc29f411b829ebf4b96aa8410a1bf16a","cc4f9fcd6f380add4c1c59df561932ec"]}},{"_id":"_design/surgical_appointments_by_date","_rev":"2-bc6d6a2bc4877d3b6509b2db41bba9ec","_deleted":true,"_revisions":{"start":2,"ids":["bc6d6a2bc4877d3b6509b2db41bba9ec","90d8de834de1fe0e154d1cdab8889984"]}},{"_id":"_design/visit_by_date","_rev":"1-fd0a50125860ba3c17844c0567a70d65","version":4,"views":{"visit_by_date":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"visit\") {var endDate = doc.data.endDate;if (endDate && endDate !== \"\") {endDate = new Date(endDate);if (endDate.getTime) {endDate = endDate.getTime();}}var startDate = doc.data.startDate;if (startDate && startDate !== \"\") {startDate = new Date(startDate);if (startDate.getTime) {startDate = startDate.getTime();}}emit([startDate, endDate, doc._id]);}}}"}},"_revisions":{"start":1,"ids":["fd0a50125860ba3c17844c0567a70d65"]}},{"_id":"_design/visit_by_date","_rev":"2-db03c0d562a1ae49095d68c63bc3d68f","_deleted":true,"_revisions":{"start":2,"ids":["db03c0d562a1ae49095d68c63bc3d68f","db61f993a1e1699c8205fee3434fc4c8"]}},{"_id":"_design/visit_by_date","_rev":"2-add6c18db9db449d2af501f6f3fc9a68","_deleted":true,"_revisions":{"start":2,"ids":["add6c18db9db449d2af501f6f3fc9a68","367a7fa42f1067f645190d560f83ef5e"]}},{"_id":"_design/visit_by_date","_rev":"2-703da902992a436713293960ff999672","_deleted":true,"_revisions":{"start":2,"ids":["703da902992a436713293960ff999672","d2391d2369808e40568e0d5d06d03c4e"]}},{"_id":"_design/visit_by_date","_rev":"2-501603779208001445188f94db0bbacd","_deleted":true,"_revisions":{"start":2,"ids":["501603779208001445188f94db0bbacd","40c753e6efc77c04fecf70ac87b7f51e"]}},{"_id":"_design/visit_by_discharge_date","_rev":"2-76f05f3060660ab74749fa0def9cea07","version":2,"views":{"visit_by_discharge_date":{"map":"function(doc) {var doctype,uidx;if (doc._id && (uidx = doc._id.indexOf(\"_\")) > 0 && !doc.data.archived) {doctype = doc._id.substring(0, uidx);if(doctype === \"visit\") {var endDate = doc.data.endDate;if (endDate && endDate !== \"\") {endDate = new Date(endDate);if (endDate.getTime) {endDate = endDate.getTime();}}emit([endDate, doc._id]);}}}"}},"_revisions":{"start":2,"ids":["76f05f3060660ab74749fa0def9cea07","e53c95160dacaf007fe01c01215729ce"]}},{"_id":"_design/visit_by_discharge_date","_rev":"2-fdd8cdc8db3ef42d6f4d2fcbacef3596","_deleted":true,"_revisions":{"start":2,"ids":["fdd8cdc8db3ef42d6f4d2fcbacef3596","8a950ea369bece976bb2ba7d30094965"]}},{"_id":"_design/visit_by_discharge_date","_rev":"2-ed42fc360c36cf527a4fdb67fc0d81ee","_deleted":true,"_revisions":{"start":2,"ids":["ed42fc360c36cf527a4fdb67fc0d81ee","57a0b69b2792963e5112bbdd53bbba2d"]}},{"_id":"_design/visit_by_discharge_date","_rev":"2-a14fd5cb9029d2e114f084d7ce01d874","_deleted":true,"_revisions":{"start":2,"ids":["a14fd5cb9029d2e114f084d7ce01d874","b4baca85d54e727966aeb2e8ad172136"]}},{"_id":"_design/visit_by_discharge_date","_rev":"2-120137bc9a27c4baeef77a538952170a","_deleted":true,"_revisions":{"start":2,"ids":["120137bc9a27c4baeef77a538952170a","0ecf420338bb69a44f9173cbcd457275"]}},{"_id":"_design/visit_by_patient","_rev":"1-f2865c74eefee716937492db914f2ccd","version":4,"views":{"visit_by_patient":{"map":"function(doc) {\n    var doctype, uidx;\n    if (doc._id && (uidx = doc._id.indexOf('_')) > 0 && !doc.data.archived) {\n      doctype = doc._id.substring(0, uidx);\n      if (doctype === 'visit') {\n        var endDate = doc.data.endDate;\n    if (endDate && endDate !== \"\") {\n      endDate = new Date(endDate);\n      if (endDate.getTime) {\n        endDate = endDate.getTime();\n      }\n    }\n    var startDate = doc.data.startDate;\n    if (startDate && startDate !== \"\") {\n      startDate = new Date(startDate);\n      if (startDate.getTime) {\n        startDate = startDate.getTime();\n      }\n    }\n    emit([doc.data.patient, startDate, endDate, doc.data.visitType, doc._id]);\n      }\n    }\n  }"}},"_revisions":{"start":1,"ids":["f2865c74eefee716937492db914f2ccd"]}},{"_id":"_design/visit_by_patient","_rev":"2-3e86ab1a328ce61c9e4dd67232fd436e","_deleted":true,"_revisions":{"start":2,"ids":["3e86ab1a328ce61c9e4dd67232fd436e","657133809a3639a91f53b02160089e19"]}},{"_id":"_design/visit_by_patient","_rev":"2-15d7d524e104be716e8c93fbf367a28e","_deleted":true,"_revisions":{"start":2,"ids":["15d7d524e104be716e8c93fbf367a28e","bf45f0e7e8e9123a59095b609570a4ea"]}},{"_id":"_design/visit_by_patient","_rev":"2-0f47f6b52236b3145f22a9383f42e351","_deleted":true,"_revisions":{"start":2,"ids":["0f47f6b52236b3145f22a9383f42e351","1667d6e44781da4f135df96e13f895cd"]}},{"_id":"_design/visit_by_patient","_rev":"2-048bd179b127054d3279071160a6f314","_deleted":true,"_revisions":{"start":2,"ids":["048bd179b127054d3279071160a6f314","412252178488867e2350dcd13da779ea"]}}]}
{"seq":165}
